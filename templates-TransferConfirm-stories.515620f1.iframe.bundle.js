"use strict";(self.webpackChunkwebb_monorepo=self.webpackChunkwebb_monorepo||[]).push([[8452],{"./libs/webb-ui-components/src/containers/ConfirmationCard/RefundAmount.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),_webb_tools_icons__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/icons/src/index.ts"),_components_CopyWithTooltip_CopyWithTooltip__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/webb-ui-components/src/components/CopyWithTooltip/CopyWithTooltip.tsx"),_components_IconWithTooltip__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./libs/webb-ui-components/src/components/IconWithTooltip/index.ts"),_typography__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./libs/webb-ui-components/src/typography/index.ts");const RefundAmount=({amount,tokenSymbol,refundAddress})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center justify-between px-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_webb_tools_icons__WEBPACK_IMPORTED_MODULE_1__.Sm,{className:"fill-mono-120 dark:fill-mono-100"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_webb_tools_icons__WEBPACK_IMPORTED_MODULE_1__.Hq,{className:"fill-mono-120 dark:fill-mono-100"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_typography__WEBPACK_IMPORTED_MODULE_4__.o,{variant:"utility",className:"text-mono-120 dark:text-mono-100 break-normal",children:"Refund Amount"}),refundAddress&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_IconWithTooltip__WEBPACK_IMPORTED_MODULE_3__.$,{icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_webb_tools_icons__WEBPACK_IMPORTED_MODULE_1__.B$,{className:"fill-mono-120 dark:fill-mono-100"}),content:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex flex-col",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_typography__WEBPACK_IMPORTED_MODULE_4__.o,{variant:"body3",children:["Refund amount will be sent to: ",refundAddress]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_CopyWithTooltip_CopyWithTooltip__WEBPACK_IMPORTED_MODULE_2__.$,{textToCopy:refundAddress,className:"self-end justify-self-end"})]}),overrideTooltipBodyProps:{className:"max-w-[200px]"}})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_typography__WEBPACK_IMPORTED_MODULE_4__.o,{variant:"body1",fw:"bold",className:"text-mono-190 dark:text-mono-40",children:[null!=amount?amount:"--"," ",tokenSymbol]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_IconWithTooltip__WEBPACK_IMPORTED_MODULE_3__.$,{icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_webb_tools_icons__WEBPACK_IMPORTED_MODULE_1__.B$,{className:"fill-mono-120 dark:fill-mono-100"}),content:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_typography__WEBPACK_IMPORTED_MODULE_4__.o,{variant:"body3",className:"break-normal max-w-max",children:"Amount being refunded to recipient."}),overrideTooltipBodyProps:{className:"max-w-[200px]"}})]})]}),__WEBPACK_DEFAULT_EXPORT__=RefundAmount;RefundAmount.__docgenInfo={description:"",methods:[],displayName:"RefundAmount",props:{amount:{required:!1,tsType:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},description:""},tokenSymbol:{required:!0,tsType:{name:"string"},description:""},refundAddress:{required:!1,tsType:{name:"string"},description:""}}}},"./libs/webb-ui-components/src/stories/templates/TransferConfirm.stories.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>TransferConfirm_stories});__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),objectWithoutPropertiesLoose=__webpack_require__("./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"),src=__webpack_require__("./libs/icons/src/index.ts"),decimal=__webpack_require__("./node_modules/decimal.js/decimal.mjs"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),bundle_mjs=__webpack_require__("./node_modules/tailwind-merge/dist/bundle-mjs.mjs"),Checkbox=__webpack_require__("./libs/webb-ui-components/src/components/CheckBox/Checkbox.tsx"),Chip=__webpack_require__("./libs/webb-ui-components/src/components/Chip/Chip.tsx"),SteppedProgress=__webpack_require__("./libs/webb-ui-components/src/components/Progress/SteppedProgress.tsx"),TitleWithInfo=__webpack_require__("./libs/webb-ui-components/src/components/TitleWithInfo/TitleWithInfo.tsx"),Button=__webpack_require__("./libs/webb-ui-components/src/components/buttons/Button.tsx"),Typography=__webpack_require__("./libs/webb-ui-components/src/typography/Typography/index.ts"),TxProgressor=__webpack_require__("./libs/webb-ui-components/src/components/TxProgressor/index.ts"),TxConfirmationRing=__webpack_require__("./libs/webb-ui-components/src/components/TxConfirmationRing/index.ts"),utils=__webpack_require__("./libs/webb-ui-components/src/containers/ConfirmationCard/utils.ts"),AmountInfo=__webpack_require__("./libs/webb-ui-components/src/containers/ConfirmationCard/AmountInfo.tsx"),RefundAmount=__webpack_require__("./libs/webb-ui-components/src/containers/ConfirmationCard/RefundAmount.tsx"),SpendNoteInput=__webpack_require__("./libs/webb-ui-components/src/containers/ConfirmationCard/SpendNoteInput.tsx"),WrapperSection=__webpack_require__("./libs/webb-ui-components/src/containers/ConfirmationCard/WrapperSection.tsx");const _excluded=["actionBtnProps","amount","changeAmount","checkboxProps","className","fee","feeToken","note","onClose","progress","totalProgress","recipientTitleProps","recipientPublicKey","relayerAddress","relayerExternalUrl","relayerAvatarTheme","txStatusColor","txStatusMessage","title","sourceAddress","destAddress","sourceTypedChainId","destTypedChainId","poolAddress","poolExplorerUrl","fungibleTokenSymbol","refundAmount","refundToken","refundRecipient","newBalance","feesSection"],TransferConfirm=(0,react.forwardRef)(((_ref,ref)=>{let{actionBtnProps,amount,changeAmount,checkboxProps,className,note,onClose,progress,totalProgress,txStatusColor="blue",txStatusMessage,title="Confirm Transfer",sourceAddress,destAddress,sourceTypedChainId,destTypedChainId,poolAddress,poolExplorerUrl,fungibleTokenSymbol:token1Symbol,refundAmount,refundToken,refundRecipient,newBalance,feesSection}=_ref,props=(0,objectWithoutPropertiesLoose.A)(_ref,_excluded);var _checkboxProps_children,_actionBtnProps_children;return(0,jsx_runtime.jsxs)("div",Object.assign({},props,{className:(0,bundle_mjs.QP)("p-4 rounded-lg bg-mono-0 dark:bg-mono-190 flex flex-col justify-between gap-9",className),ref,children:[(0,jsx_runtime.jsxs)("div",{className:"space-y-4",children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-between p-2",children:[(0,jsx_runtime.jsx)(Typography.o,{variant:"h5",fw:"bold",children:title}),(0,jsx_runtime.jsx)("button",{onClick:onClose,children:(0,jsx_runtime.jsx)(src.bm,{size:"lg"})})]}),"number"==typeof progress&&"number"==typeof totalProgress?(0,jsx_runtime.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-between",children:[(0,jsx_runtime.jsx)(TitleWithInfo.B,{title:"Status:",variant:"utility",titleClassName:"text-mono-200 dark:text-mono-0"}),(0,jsx_runtime.jsx)(Chip.v,{color:txStatusColor,children:txStatusMessage})]}),(0,jsx_runtime.jsx)(SteppedProgress.A,{steps:totalProgress,activeStep:progress})]}):null,(0,jsx_runtime.jsx)(WrapperSection.A,{children:(0,jsx_runtime.jsx)(TxProgressor.jg,{txSourceInfo:{isSource:!0,typedChainId:sourceTypedChainId,amount:new decimal.A(-1*amount),tokenSymbol:token1Symbol,walletAddress:sourceAddress,accountType:"note",tokenType:"shielded"},txDestinationInfo:{typedChainId:destTypedChainId,amount:new decimal.A(amount),tokenSymbol:token1Symbol,walletAddress:destAddress,accountType:"note",tokenType:"shielded"}})}),(0,jsx_runtime.jsx)(TxConfirmationRing.A,{source:{address:sourceAddress,typedChainId:sourceTypedChainId,isNoteAccount:!0},dest:{address:destAddress,typedChainId:destTypedChainId,isNoteAccount:!0},title:token1Symbol,subtitle:poolAddress,externalLink:poolExplorerUrl}),(0,jsx_runtime.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,jsx_runtime.jsx)(src.gJ,{className:"fill-mono-120 dark:fill-mono-100"}),(0,jsx_runtime.jsx)(TitleWithInfo.B,{title:"Change Note",info:"Unique identifier for the remaining shielded funds after transfer.",variant:"utility",titleClassName:"text-mono-120 dark:text-mono-100",className:"text-mono-120 dark:text-mono-100"})]}),"string"==typeof note&&(0,jsx_runtime.jsx)(WrapperSection.A,{children:(0,jsx_runtime.jsx)(SpendNoteInput.A,{note})})]}),(0,jsx_runtime.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,jsx_runtime.jsx)(AmountInfo.A,{label:"Change Amount",amount:(0,utils.N)(changeAmount),tokenSymbol:token1Symbol,tooltipContent:"The value associated with the change note."}),(0,jsx_runtime.jsx)(AmountInfo.A,{label:"New Balance",amount:(0,utils.N)(newBalance),tokenSymbol:token1Symbol,tooltipContent:`Your updated shielded balance of ${token1Symbol} on destination chain after deposit.`})]}),feesSection,refundAmount&&(0,jsx_runtime.jsx)(RefundAmount.A,{tokenSymbol:null!=refundToken?refundToken:"",amount:(0,utils.N)(refundAmount),refundAddress:refundRecipient}),(0,jsx_runtime.jsx)(Checkbox.o,Object.assign({},checkboxProps,{wrapperClassName:(0,bundle_mjs.QP)("flex items-start",null==checkboxProps?void 0:checkboxProps.wrapperClassName),children:null!==(_checkboxProps_children=null==checkboxProps?void 0:checkboxProps.children)&&void 0!==_checkboxProps_children?_checkboxProps_children:"I acknowledge that I've saved the change note note (if applicable), essential for future transactions and fund access."}))]}),(0,jsx_runtime.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,jsx_runtime.jsx)(Button.A,Object.assign({},actionBtnProps,{isFullWidth:!0,className:"justify-center",children:null!==(_actionBtnProps_children=null==actionBtnProps?void 0:actionBtnProps.children)&&void 0!==_actionBtnProps_children?_actionBtnProps_children:"Transfer"})),!progress&&(0,jsx_runtime.jsx)(Button.A,{variant:"secondary",isFullWidth:!0,className:"justify-center",onClick:onClose,children:"Back"})]})]}))}));TransferConfirm.__docgenInfo={description:"",methods:[],displayName:"TransferConfirm",props:{txStatusColor:{defaultValue:{value:"'blue'",computed:!1},required:!1},title:{defaultValue:{value:"'Confirm Transfer'",computed:!1},required:!1}}};var dist=__webpack_require__("./node_modules/storybook-addon-remix-react-router/dist/index.js");const TransferConfirm_stories={title:"Design System/Templates/TransferConfirm",component:TransferConfirm,decorators:[dist.y]},Default=(args=>(0,jsx_runtime.jsx)("div",{className:"flex justify-center",children:(0,jsx_runtime.jsx)(TransferConfirm,Object.assign({},args))})).bind({});Default.args={title:"Transfer In-Progress",progress:25,activeChains:["Optimism","Arbitrum"],note:"webb://v2:vanchor/1099511627780:109951123431284u182p347130287412083741289341238412472389741382974",amount:1.01,changeAmount:2.02,fee:.001,fungibleTokenSymbol:"weth",sourceChain:"Optimism",relayerAddress:"5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY",relayerExternalUrl:"https://webb.tools/relayer",recipientAddress:"0xb507EcE3132875277d05045Bb1C914088A506443",destChain:"Arbitrum"};const __namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:'args => <div className="flex justify-center">\n    <TransferConfirm {...args} />\n  </div>',...Default.parameters?.docs?.source}}}}}]);