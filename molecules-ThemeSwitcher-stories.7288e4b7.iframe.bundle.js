(self.webpackChunk_webb_tools_webb_ui_components=self.webpackChunk_webb_tools_webb_ui_components||[]).push([[8771],{"../dapp-types/src/EventBus.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{l:()=>EventBus});class EventBus{on(event,cb){const listeners=this.subscriptions[event];var _this_subscriptions,_this_subscriptions_event;listeners&&-1!==listeners.indexOf(cb)||(this.subscriptions[event]=[...null!==(_this_subscriptions_event=null===(_this_subscriptions=this.subscriptions)||void 0===_this_subscriptions?void 0:_this_subscriptions[event])&&void 0!==_this_subscriptions_event?_this_subscriptions_event:[],cb]);return()=>this.off(event,cb)}emit(event,data){var _this_subscriptions_event;null===(_this_subscriptions_event=this.subscriptions[event])||void 0===_this_subscriptions_event||_this_subscriptions_event.forEach((cb=>cb(data)))}off(event,cb){const listeners=this.subscriptions[event];var _listeners_filter;this.subscriptions[event]=null!==(_listeners_filter=null==listeners?void 0:listeners.filter((c=>c!==cb)))&&void 0!==_listeners_filter?_listeners_filter:[]}once(event,cb){var _this_subscriptions;const hookedCb=val=>{cb(val),this.off(event,hookedCb)};var _this_subscriptions_event;return this.subscriptions[event]=[...null!==(_this_subscriptions_event=null===(_this_subscriptions=this.subscriptions)||void 0===_this_subscriptions?void 0:_this_subscriptions[event])&&void 0!==_this_subscriptions_event?_this_subscriptions_event:[],hookedCb],()=>this.off(event,hookedCb)}unsubscribeAll(){this.subscriptions={}}unsubscribeAllForEvent(event){this.subscriptions[event]=[]}constructor(){this.sendEvent=void 0,this.subscriptions={}}}},"./src/components/Dropdown/DropdownMenuItem.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _home_runner_work_dapp_dapp_node_modules_next_dist_compiled_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../node_modules/next/dist/compiled/@babel/runtime/helpers/esm/extends.js"),_home_runner_work_dapp_dapp_node_modules_next_dist_compiled_babel_runtime_helpers_esm_objectWithoutPropertiesLoose_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/next/dist/compiled/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/next/dist/compiled/react/index.js"),_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/@radix-ui/react-dropdown-menu/dist/index.mjs"),classnames__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__),tailwind_merge__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/tailwind-merge/dist/bundle-mjs.mjs");const _excluded=["children","className","leftIcon","rightIcon","textTransform","disabled","isActive"],DropdownMenuItem=(0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(((_ref,ref)=>{let{children,className:clsxProp,leftIcon,rightIcon,textTransform="capitalize",disabled=!1,isActive=!1}=_ref,props=(0,_home_runner_work_dapp_dapp_node_modules_next_dist_compiled_babel_runtime_helpers_esm_objectWithoutPropertiesLoose_js__WEBPACK_IMPORTED_MODULE_3__.A)(_ref,_excluded);const className=(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)((()=>(0,tailwind_merge__WEBPACK_IMPORTED_MODULE_4__.QP)(classnames__WEBPACK_IMPORTED_MODULE_2___default()("flex items-center px-4 py-2 text-base outline-none",disabled?"opacity-60":"cursor-pointer",{"hover:bg-blue-0 dark:hover:bg-mono-170":!disabled},{"focus:bg-blue-0 dark:focus:bg-mono-170":!disabled},{"hover:text-mono-200 dark:hover:text-mono-0":!disabled},{"focus:text-mono-200 dark:focus:text-mono-0":!disabled},{"bg-blue-0 dark:bg-mono-170":isActive},{"text-mono-200 dark:text-mono-0":isActive},"radix-state-checked:text-mono-200 dark:radix-state-checked:text-mono-0","radix-state-active:text-mono-200 dark:radix-state-active:text-mono-0"),textTransform,clsxProp)),[clsxProp,textTransform,disabled,isActive]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_5__.q7,(0,_home_runner_work_dapp_dapp_node_modules_next_dist_compiled_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_6__.A)({className},props,{ref,children:[leftIcon&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"mr-2.5 shrink-0",children:leftIcon}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"flex-grow text-inherit dark:text-inherit",children}),rightIcon&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"shrink-0",children:rightIcon})]}))})),__WEBPACK_DEFAULT_EXPORT__=DropdownMenuItem;DropdownMenuItem.__docgenInfo={description:"The DropdownMenuItem component (must be used inside the `Dropdown*` component)\n\nProps:\n\n- `rightIcon`: The icon displayed after the text\n- `leftIcon`: The icon displayed before the text\n- `textTransform`: The text transform style\n\n@example\n\n```jsx\n <DropdownMenuItem rightIcon={<Filter />}>Filter</DropdownMenuItem>\n <DropdownMenuItem>Item 1</DropdownMenuItem>\n```",methods:[],displayName:"DropdownMenuItem",props:{className:{required:!1,tsType:{name:"string"},description:"The tailwindcss className to override the style"},darkMode:{required:!1,tsType:{name:"boolean"},description:"Control dark mode using `js`, if it's empty, the component will control dark mode in `css`"},children:{required:!1,tsType:{name:"union",raw:"React.ReactNode | string",elements:[{name:"ReactReactNode",raw:"React.ReactNode"},{name:"string"}]},description:""},isActive:{required:!1,tsType:{name:"boolean"},description:"Handle state if the item is being active",defaultValue:{value:"false",computed:!1}},leftIcon:{required:!1,tsType:{name:"ReactReactElement",raw:"React.ReactElement"},description:"The icon displayed on the left before the text"},rightIcon:{required:!1,tsType:{name:"ReactReactElement",raw:"React.ReactElement"},description:"The icon displayed on the right"},textTransform:{required:!1,tsType:{name:"union",raw:"'uppercase' | 'lowercase' | 'capitalize' | 'normal-case' | ''",elements:[{name:"literal",value:"'uppercase'"},{name:"literal",value:"'lowercase'"},{name:"literal",value:"'capitalize'"},{name:"literal",value:"'normal-case'"},{name:"literal",value:"''"}]},description:"The text transform\n@default 'capitalize'",defaultValue:{value:"'capitalize'",computed:!1}},disabled:{defaultValue:{value:"false",computed:!1},required:!1}},composes:["RdxDropdownMenuItemProps"]}},"./src/components/ThemeSwitcher/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{jt:()=>ThemeSwitcher_ThemeSwitcherButton});var jsx_runtime=__webpack_require__("../../node_modules/next/dist/compiled/react/jsx-runtime.js"),react_icons_esm=__webpack_require__("../../node_modules/@radix-ui/react-icons/dist/react-icons.esm.js"),hooks=__webpack_require__("./src/hooks/index.ts"),src=__webpack_require__("../icons/src/index.ts"),react=__webpack_require__("../../node_modules/next/dist/compiled/react/index.js");const ThemeSwitcherButton_ThemeSwitcherButton=()=>{const[isDarkMode,toggleThemeMode]=(0,hooks.D2)(),Icon=(0,react.useMemo)((()=>{switch(isDarkMode?"dark":"light"){case"dark":return(0,jsx_runtime.jsx)(src.N$,{size:"lg"});case"light":return(0,jsx_runtime.jsx)(src.m7,{size:"lg"});default:return(0,jsx_runtime.jsx)(react_icons_esm.VDO,{className:"w-6 h-6 fill-mono-200 dark:fill-mono-40"})}}),[isDarkMode]);return(0,jsx_runtime.jsx)("button",{className:"relative inline-block text-left",onClick:()=>toggleThemeMode(),children:Icon})},ThemeSwitcher_ThemeSwitcherButton=ThemeSwitcherButton_ThemeSwitcherButton;ThemeSwitcherButton_ThemeSwitcherButton.__docgenInfo={description:"",methods:[],displayName:"ThemeSwitcherButton"};var DropdownMenuItem=__webpack_require__("./src/components/Dropdown/DropdownMenuItem.tsx");const ThemeSwitcherMenuItem=props=>{const[isDarkMode,toggleThemeMode]=(0,hooks.D2)(),Icon=(0,react.useMemo)((()=>{switch(isDarkMode?"dark":"light"){case"light":return(0,jsx_runtime.jsx)(src.m7,{size:"lg"});case"dark":return(0,jsx_runtime.jsx)(src.N$,{size:"lg"});default:return(0,jsx_runtime.jsx)(react_icons_esm.VDO,{className:"w-6 h-6 fill-mono-200 dark:fill-mono-40"})}}),[isDarkMode]);return(0,jsx_runtime.jsx)(DropdownMenuItem.A,{onClick:()=>toggleThemeMode(),rightIcon:Icon,className:props.className,children:isDarkMode?"Light Theme":"Dark Theme"})};ThemeSwitcherMenuItem.__docgenInfo={description:"",methods:[],displayName:"ThemeSwitcherMenuItem",props:{className:{required:!1,tsType:{name:"string"},description:""}}}},"./src/typography/Typography/Typography.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{o:()=>Typography});var _home_runner_work_dapp_dapp_node_modules_next_dist_compiled_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/next/dist/compiled/@babel/runtime/helpers/esm/extends.js"),_home_runner_work_dapp_dapp_node_modules_next_dist_compiled_babel_runtime_helpers_esm_objectWithoutPropertiesLoose_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/next/dist/compiled/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/next/dist/compiled/react/index.js"),tailwind_merge__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/tailwind-merge/dist/bundle-mjs.mjs"),_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/typography/utils/index.ts");const _excluded=["children","className","component","fw","ta","variant"],DEFAULT_COMPONENT={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",body1:"p",body2:"p",body3:"p",body4:"p",mono1:"span",mono2:"span",para1:"p",para2:"p",label:"span",utility:"span","mkt-h1":"h1","mkt-h2":"h2","mkt-h3":"h3","mkt-h4":"h4","mkt-subheading":"p","mkt-body1":"p","mkt-body2":"p","mkt-small-caps":"p","mkt-caption":"p","mkt-monospace":"p"},Typography=_ref=>{let{children,className,component,fw="normal",ta="left",variant}=_ref,restProps=(0,_home_runner_work_dapp_dapp_node_modules_next_dist_compiled_babel_runtime_helpers_esm_objectWithoutPropertiesLoose_js__WEBPACK_IMPORTED_MODULE_1__.A)(_ref,_excluded);const component_=null!=component?component:DEFAULT_COMPONENT[variant],className_=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>(0,tailwind_merge__WEBPACK_IMPORTED_MODULE_2__.QP)(`${variant}`,(0,_utils__WEBPACK_IMPORTED_MODULE_3__.sN)(ta),(0,_utils__WEBPACK_IMPORTED_MODULE_3__.NC)(variant,fw),(0,_utils__WEBPACK_IMPORTED_MODULE_3__.Qe)(variant),className)),[className,fw,ta,variant]);return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(component_,(0,_home_runner_work_dapp_dapp_node_modules_next_dist_compiled_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_4__.A)({},restProps,{className:className_}),children)};Typography.__docgenInfo={description:'The Webb Typography component\n\nProps:\n- `variant`: Represent different variants of the component\n- `component`: The html tag (default: same as `variant` prop)\n- `fw`: Represent the **font weight** of the component (default: `normal`)\n- `ta`: Text align (default: `left`)\n- `darkMode`: Control component dark mode display in `js`, leave it\'s empty if you want to control dark mode in `css`\n\n@example\n\n```jsx\n<Typography variant="h1" fw="semibold" ta="center">This is heading 1</Typography>\n<Typography variant="h2" component="h3">This is heading 3 with variant h2</Typography>\n```',methods:[],displayName:"Typography",props:{fw:{defaultValue:{value:"'normal'",computed:!1},required:!1},ta:{defaultValue:{value:"'left'",computed:!1},required:!1}}}},"./src/typography/Typography/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{o:()=>_Typography__WEBPACK_IMPORTED_MODULE_0__.o});var _Typography__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/typography/Typography/Typography.tsx")},"./src/typography/utils/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function getTextAlignClassName(textAlign){switch(textAlign){case"center":return"text-center";case"justify":return"text-justify";case"left":default:return"text-left";case"right":return"text-right"}}function getFontWeightClassName(variant,fontWeight){if(function isMonospaceVariant(variant){return-1!==["mono1","mono2","mkt-monospace"].indexOf(variant)}(variant)&&"semibold"===fontWeight)return"font-bold";if("label"===variant||"utility"===variant)return"";switch(fontWeight){case"normal":default:return"font-normal";case"medium":return"font-medium";case"semibold":return"font-semibold";case"bold":return"font-bold";case"black":return"font-black"}}function getDefaultTextColor(variant){return variant.startsWith("h")||variant.startsWith("mkt-h")?"text-mono-200 dark:text-mono-00":"text-mono-160 dark:text-mono-80"}__webpack_require__.d(__webpack_exports__,{NC:()=>getFontWeightClassName,Qe:()=>getDefaultTextColor,sN:()=>getTextAlignClassName})},"./src/stories/molecules/ThemeSwitcher.stories.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _home_runner_work_dapp_dapp_node_modules_next_dist_compiled_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/next/dist/compiled/@babel/runtime/helpers/esm/extends.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/next/dist/compiled/react/jsx-runtime.js"),_components_ThemeSwitcher__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/ThemeSwitcher/index.ts");const __WEBPACK_DEFAULT_EXPORT__={title:"Design System/Molecules/ThemeSwitcherButton",component:_components_ThemeSwitcher__WEBPACK_IMPORTED_MODULE_1__.jt},Default=(args=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ThemeSwitcher__WEBPACK_IMPORTED_MODULE_1__.jt,(0,_home_runner_work_dapp_dapp_node_modules_next_dist_compiled_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_2__.A)({},args))).bind({});Default.args={};const __namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"args => <ThemeSwitcherButton {...args} />",...Default.parameters?.docs?.source}}}},"../../node_modules/next-themes/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{D:()=>z});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/next/dist/compiled/react/index.js"),L=(e,r,s,u,d,m,l,h)=>{let c=document.documentElement,v=["light","dark"];function p(i){(Array.isArray(e)?e:[e]).forEach((y=>{let k="class"===y,S=k&&m?d.map((f=>m[f]||f)):d;k?(c.classList.remove(...S),c.classList.add(i)):c.setAttribute(y,i)})),function R(i){h&&v.includes(i)&&(c.style.colorScheme=i)}(i)}if(u)p(u);else try{let i=localStorage.getItem(r)||s;p(l&&"system"===i?function a(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}():i)}catch(i){}},E=react__WEBPACK_IMPORTED_MODULE_0__.createContext(void 0),N={setTheme:e=>{},themes:[]},z=()=>{var e;return null!=(e=react__WEBPACK_IMPORTED_MODULE_0__.useContext(E))?e:N};react__WEBPACK_IMPORTED_MODULE_0__.memo((({forcedTheme:e,storageKey:r,attribute:s,enableSystem:u,enableColorScheme:d,defaultTheme:m,value:l,themes:h,nonce:c,scriptProps:v})=>{let p=JSON.stringify([s,r,m,e,h,l,u,d]).slice(1,-1);return react__WEBPACK_IMPORTED_MODULE_0__.createElement("script",{...v,suppressHydrationWarning:!0,nonce:"undefined"==typeof window?c:"",dangerouslySetInnerHTML:{__html:`(${L.toString()})(${p})`}})}))},"../../node_modules/copy-to-clipboard/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var console=__webpack_require__("../../node_modules/console-browserify/index.js"),deselectCurrent=__webpack_require__("../../node_modules/toggle-selection/index.js"),clipboardToIE11Formatting={"text/plain":"Text","text/html":"Url",default:"Text"};module.exports=function copy(text,options){var debug,message,reselectPrevious,range,selection,mark,success=!1;options||(options={}),debug=options.debug||!1;try{if(reselectPrevious=deselectCurrent(),range=document.createRange(),selection=document.getSelection(),(mark=document.createElement("span")).textContent=text,mark.ariaHidden="true",mark.style.all="unset",mark.style.position="fixed",mark.style.top=0,mark.style.clip="rect(0, 0, 0, 0)",mark.style.whiteSpace="pre",mark.style.webkitUserSelect="text",mark.style.MozUserSelect="text",mark.style.msUserSelect="text",mark.style.userSelect="text",mark.addEventListener("copy",(function(e){if(e.stopPropagation(),options.format)if(e.preventDefault(),void 0===e.clipboardData){debug&&console.warn("unable to use e.clipboardData"),debug&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var format=clipboardToIE11Formatting[options.format]||clipboardToIE11Formatting.default;window.clipboardData.setData(format,text)}else e.clipboardData.clearData(),e.clipboardData.setData(options.format,text);options.onCopy&&(e.preventDefault(),options.onCopy(e.clipboardData))})),document.body.appendChild(mark),range.selectNodeContents(mark),selection.addRange(range),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");success=!0}catch(err){debug&&console.error("unable to copy using execCommand: ",err),debug&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(options.format||"text",text),options.onCopy&&options.onCopy(window.clipboardData),success=!0}catch(err){debug&&console.error("unable to copy using clipboardData: ",err),debug&&console.error("falling back to prompt"),message=function format(message){var copyKey=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return message.replace(/#{\s*key\s*}/g,copyKey)}("message"in options?options.message:"Copy to clipboard: #{key}, Enter"),window.prompt(message,text)}}finally{selection&&("function"==typeof selection.removeRange?selection.removeRange(range):selection.removeAllRanges()),mark&&document.body.removeChild(mark),reselectPrevious()}return success}},"../../node_modules/toggle-selection/index.js":module=>{module.exports=function(){var selection=document.getSelection();if(!selection.rangeCount)return function(){};for(var active=document.activeElement,ranges=[],i=0;i<selection.rangeCount;i++)ranges.push(selection.getRangeAt(i));switch(active.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":active.blur();break;default:active=null}return selection.removeAllRanges(),function(){"Caret"===selection.type&&selection.removeAllRanges(),selection.rangeCount||ranges.forEach((function(range){selection.addRange(range)})),active&&active.focus()}}},"../../node_modules/use-local-storage-state/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>use_local_storage_state});var react=__webpack_require__("../../node_modules/next/dist/compiled/react/index.js");const inMemoryData=new Map;const callbacks=new Set;function triggerCallbacks(key){for(const callback of[...callbacks])callback(key)}function parseJSON(value){return"undefined"===value?void 0:JSON.parse(value)}function goodTry(tryFn){try{return tryFn()}catch{}}const use_local_storage_state=function useLocalStorageState(key,options){const serializer=options?.serializer,[defaultValue]=(0,react.useState)(options?.defaultValue),[defaultServerValue]=(0,react.useState)(options?.defaultServerValue);return function useLocalStorage(key,defaultValue,defaultServerValue,storageSync=!0,parse=parseJSON,stringify=JSON.stringify){const storageItem=(0,react.useRef)({string:null,parsed:void 0}),value=(0,react.useSyncExternalStore)((0,react.useCallback)((onStoreChange=>{const onChange=localKey=>{key===localKey&&onStoreChange()};return callbacks.add(onChange),()=>{callbacks.delete(onChange)}}),[key]),(()=>{const string=goodTry((()=>localStorage.getItem(key)))??null;if(inMemoryData.has(key))storageItem.current.parsed=inMemoryData.get(key);else if(string!==storageItem.current.string){let parsed;try{parsed=null===string?defaultValue:parse(string)}catch{parsed=defaultValue}storageItem.current.parsed=parsed}return storageItem.current.string=string,void 0!==defaultValue&&null===string&&goodTry((()=>{const string=stringify(defaultValue);localStorage.setItem(key,string),storageItem.current={string,parsed:defaultValue}})),storageItem.current.parsed}),(()=>defaultServerValue??defaultValue)),setState=(0,react.useCallback)((newValue=>{const value=newValue instanceof Function?newValue(storageItem.current.parsed):newValue;try{localStorage.setItem(key,stringify(value)),inMemoryData.delete(key)}catch{inMemoryData.set(key,value)}triggerCallbacks(key)}),[key,stringify]),removeItem=(0,react.useCallback)((()=>{goodTry((()=>localStorage.removeItem(key))),inMemoryData.delete(key),triggerCallbacks(key)}),[key]);return(0,react.useEffect)((()=>{if(!storageSync)return;const onStorage=e=>{e.key===key&&e.storageArea===goodTry((()=>localStorage))&&triggerCallbacks(key)};return window.addEventListener("storage",onStorage),()=>window.removeEventListener("storage",onStorage)}),[key,storageSync]),(0,react.useMemo)((()=>[value,setState,{isPersistent:value===defaultValue||!inMemoryData.has(key),removeItem}]),[key,setState,value,defaultValue,removeItem])}(key,defaultValue,defaultServerValue,options?.storageSync,serializer?.parse,serializer?.stringify)}}}]);