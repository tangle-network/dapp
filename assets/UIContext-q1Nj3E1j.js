var p=Object.defineProperty;var f=(r,t,s)=>t in r?p(r,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[t]=s;var e=(r,t,s)=>f(r,typeof t!="symbol"?t+"":t,s);import{r as d,u as m}from"./resolveConfig-DXiNolnn.js";import{n as a}from"./noop-Bhb5DQXe.js";import{r as b}from"./index-C6mWTJJr.js";import{n as x}from"./NotificationStacked-juqkK1lm.js";import"./jsx-runtime-BbjHj44Y.js";class B{constructor(){e(this,"sendEvent");e(this,"subscriptions",{})}on(t,s){var n;const o=this.subscriptions[t];return(!o||o.indexOf(s)===-1)&&(this.subscriptions[t]=[...((n=this.subscriptions)==null?void 0:n[t])??[],s]),()=>this.off(t,s)}emit(t,s){var o;(o=this.subscriptions[t])==null||o.forEach(n=>n(s))}off(t,s){const o=this.subscriptions[t];this.subscriptions[t]=(o==null?void 0:o.filter(n=>n!==s))??[]}once(t,s){var n;const o=c=>{s(c),this.off(t,o)};return this.subscriptions[t]=[...((n=this.subscriptions)==null?void 0:n[t])??[],o],()=>this.off(t,o)}unsubscribeAll(){this.subscriptions={}}unsubscribeAllForEvent(t){this.subscriptions[t]=[]}}const h=d({content:[]});function $(r,t,s,o){const c=h.theme.screens[r]??h.theme.screens.md;return m(`(min-width: ${c})`)?t:s}class w extends B{constructor(){super(),this.sendEvent=this.emit}}const i=class i{constructor(t,s){e(this,"mutedLogger",()=>null);e(this,"debug",(function(...s){const o=this.logger(4,"\x1B[30m",...s);return o?Function.prototype.bind.call(console.log,console,...o):this.mutedLogger}).call(this));e(this,"error",(function(...s){const o=this.logger(5,"\x1B[31m",...s);return o?Function.prototype.bind.call(console.log,console,...o):this.mutedLogger}).call(this));e(this,"info",(function(...s){const o=this.logger(2,"\x1B[36m",...s);return o?Function.prototype.bind.call(console.log,console,...o):this.mutedLogger}).call(this));e(this,"warn",(function(...s){const o=this.logger(3,"\x1B[33m",...s);return o?Function.prototype.bind.call(console.log,console,...o):this.mutedLogger}).call(this));e(this,"trace",(function(...s){const o=this.logger(0,"\x1B[30m",...s);return o?Function.prototype.bind.call(console.log,console,...o):this.mutedLogger}).call(this));e(this,"log",(function(...s){const o=this.logger(1,"\x1B[30m",...s);return o?Function.prototype.bind.call(console.log,console,...o):this.mutedLogger}).call(this));return this.ctx=t,this.logLevel=s,this}static new(t,s=0){const o=new i(t,s);return i._loggers[t]=o,o}static get(t){const s=i._loggers[t];return s||i.new(t)}logger(t=0,s,...o){var c,l;let n="";try{n=JSON.stringify(o,null,2)}catch{n="Cant show message"}if((l=(c=i.eventBus).sendEvent)==null||l.call(c,"log",{ctx:this.ctx,level:t,log:n}),this.logLevel<=t){const u=new Date;return[`${s}[${u.getHours()}:${u.getMinutes()}:${u.getSeconds()}], [${this.ctx}] `,...o]}}};e(i,"eventBus",new w),e(i,"_loggers",{}),e(i,"_enabled",!0);let g=i;const y={customMainComponent:void 0,notificationApi:x,setMainComponent:a,logger:g.get("app"),theme:{isDarkMode:!0,toggleThemeMode:a}};b.createContext(y);export{$ as u};
