import{c as Tr,g as wr}from"./_commonjsHelpers-BosuxZz1.js";import{r as Rr}from"./___vite-browser-external_commonjs-proxy-DRaEfepn.js";var Ve={exports:{}};Ve.exports;(function(n){(function(o,i){function h(d,t){if(!d)throw new Error(t||"Assertion failed")}function m(d,t){d.super_=t;var r=function(){};r.prototype=t.prototype,d.prototype=new r,d.prototype.constructor=d}function f(d,t,r){if(f.isBN(d))return d;this.negative=0,this.words=null,this.length=0,this.red=null,d!==null&&((t==="le"||t==="be")&&(r=t,t=10),this._init(d||0,t||10,r||"be"))}typeof o=="object"?o.exports=f:i.BN=f,f.BN=f,f.wordSize=26;var M;try{typeof window<"u"&&typeof window.Buffer<"u"?M=window.Buffer:M=Rr.Buffer}catch{}f.isBN=function(t){return t instanceof f?!0:t!==null&&typeof t=="object"&&t.constructor.wordSize===f.wordSize&&Array.isArray(t.words)},f.max=function(t,r){return t.cmp(r)>0?t:r},f.min=function(t,r){return t.cmp(r)<0?t:r},f.prototype._init=function(t,r,s){if(typeof t=="number")return this._initNumber(t,r,s);if(typeof t=="object")return this._initArray(t,r,s);r==="hex"&&(r=16),h(r===(r|0)&&r>=2&&r<=36),t=t.toString().replace(/\s+/g,"");var a=0;t[0]==="-"&&(a++,this.negative=1),a<t.length&&(r===16?this._parseHex(t,a,s):(this._parseBase(t,r,a),s==="le"&&this._initArray(this.toArray(),r,s)))},f.prototype._initNumber=function(t,r,s){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[t&67108863],this.length=1):t<4503599627370496?(this.words=[t&67108863,t/67108864&67108863],this.length=2):(h(t<9007199254740992),this.words=[t&67108863,t/67108864&67108863,1],this.length=3),s==="le"&&this._initArray(this.toArray(),r,s)},f.prototype._initArray=function(t,r,s){if(h(typeof t.length=="number"),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var u,p,g=0;if(s==="be")for(a=t.length-1,u=0;a>=0;a-=3)p=t[a]|t[a-1]<<8|t[a-2]<<16,this.words[u]|=p<<g&67108863,this.words[u+1]=p>>>26-g&67108863,g+=24,g>=26&&(g-=26,u++);else if(s==="le")for(a=0,u=0;a<t.length;a+=3)p=t[a]|t[a+1]<<8|t[a+2]<<16,this.words[u]|=p<<g&67108863,this.words[u+1]=p>>>26-g&67108863,g+=24,g>=26&&(g-=26,u++);return this._strip()};function y(d,t){var r=d.charCodeAt(t);if(r>=48&&r<=57)return r-48;if(r>=65&&r<=70)return r-55;if(r>=97&&r<=102)return r-87;h(!1,"Invalid character in "+d)}function v(d,t,r){var s=y(d,r);return r-1>=t&&(s|=y(d,r-1)<<4),s}f.prototype._parseHex=function(t,r,s){this.length=Math.ceil((t.length-r)/6),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var u=0,p=0,g;if(s==="be")for(a=t.length-1;a>=r;a-=2)g=v(t,r,a)<<u,this.words[p]|=g&67108863,u>=18?(u-=18,p+=1,this.words[p]|=g>>>26):u+=8;else{var l=t.length-r;for(a=l%2===0?r+1:r;a<t.length;a+=2)g=v(t,r,a)<<u,this.words[p]|=g&67108863,u>=18?(u-=18,p+=1,this.words[p]|=g>>>26):u+=8}this._strip()};function x(d,t,r,s){for(var a=0,u=0,p=Math.min(d.length,r),g=t;g<p;g++){var l=d.charCodeAt(g)-48;a*=s,l>=49?u=l-49+10:l>=17?u=l-17+10:u=l,h(l>=0&&u<s,"Invalid character"),a+=u}return a}f.prototype._parseBase=function(t,r,s){this.words=[0],this.length=1;for(var a=0,u=1;u<=67108863;u*=r)a++;a--,u=u/r|0;for(var p=t.length-s,g=p%a,l=Math.min(p,p-g)+s,e=0,c=s;c<l;c+=a)e=x(t,c,c+a,r),this.imuln(u),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e);if(g!==0){var L=1;for(e=x(t,c,t.length,r),c=0;c<g;c++)L*=r;this.imuln(L),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e)}this._strip()},f.prototype.copy=function(t){t.words=new Array(this.length);for(var r=0;r<this.length;r++)t.words[r]=this.words[r];t.length=this.length,t.negative=this.negative,t.red=this.red};function B(d,t){d.words=t.words,d.length=t.length,d.negative=t.negative,d.red=t.red}if(f.prototype._move=function(t){B(t,this)},f.prototype.clone=function(){var t=new f(null);return this.copy(t),t},f.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},f.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},f.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{f.prototype[Symbol.for("nodejs.util.inspect.custom")]=b}catch{f.prototype.inspect=b}else f.prototype.inspect=b;function b(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var E=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],S=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],N=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];f.prototype.toString=function(t,r){t=t||10,r=r|0||1;var s;if(t===16||t==="hex"){s="";for(var a=0,u=0,p=0;p<this.length;p++){var g=this.words[p],l=((g<<a|u)&16777215).toString(16);u=g>>>24-a&16777215,a+=2,a>=26&&(a-=26,p--),u!==0||p!==this.length-1?s=E[6-l.length]+l+s:s=l+s}for(u!==0&&(s=u.toString(16)+s);s.length%r!==0;)s="0"+s;return this.negative!==0&&(s="-"+s),s}if(t===(t|0)&&t>=2&&t<=36){var e=S[t],c=N[t];s="";var L=this.clone();for(L.negative=0;!L.isZero();){var k=L.modrn(c).toString(t);L=L.idivn(c),L.isZero()?s=k+s:s=E[e-k.length]+k+s}for(this.isZero()&&(s="0"+s);s.length%r!==0;)s="0"+s;return this.negative!==0&&(s="-"+s),s}h(!1,"Base should be between 2 and 36")},f.prototype.toNumber=function(){var t=this.words[0];return this.length===2?t+=this.words[1]*67108864:this.length===3&&this.words[2]===1?t+=4503599627370496+this.words[1]*67108864:this.length>2&&h(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-t:t},f.prototype.toJSON=function(){return this.toString(16,2)},M&&(f.prototype.toBuffer=function(t,r){return this.toArrayLike(M,t,r)}),f.prototype.toArray=function(t,r){return this.toArrayLike(Array,t,r)};var I=function(t,r){return t.allocUnsafe?t.allocUnsafe(r):new t(r)};f.prototype.toArrayLike=function(t,r,s){this._strip();var a=this.byteLength(),u=s||Math.max(1,a);h(a<=u,"byte array longer than desired length"),h(u>0,"Requested array length <= 0");var p=I(t,u),g=r==="le"?"LE":"BE";return this["_toArrayLike"+g](p,a),p},f.prototype._toArrayLikeLE=function(t,r){for(var s=0,a=0,u=0,p=0;u<this.length;u++){var g=this.words[u]<<p|a;t[s++]=g&255,s<t.length&&(t[s++]=g>>8&255),s<t.length&&(t[s++]=g>>16&255),p===6?(s<t.length&&(t[s++]=g>>24&255),a=0,p=0):(a=g>>>24,p+=2)}if(s<t.length)for(t[s++]=a;s<t.length;)t[s++]=0},f.prototype._toArrayLikeBE=function(t,r){for(var s=t.length-1,a=0,u=0,p=0;u<this.length;u++){var g=this.words[u]<<p|a;t[s--]=g&255,s>=0&&(t[s--]=g>>8&255),s>=0&&(t[s--]=g>>16&255),p===6?(s>=0&&(t[s--]=g>>24&255),a=0,p=0):(a=g>>>24,p+=2)}if(s>=0)for(t[s--]=a;s>=0;)t[s--]=0},Math.clz32?f.prototype._countBits=function(t){return 32-Math.clz32(t)}:f.prototype._countBits=function(t){var r=t,s=0;return r>=4096&&(s+=13,r>>>=13),r>=64&&(s+=7,r>>>=7),r>=8&&(s+=4,r>>>=4),r>=2&&(s+=2,r>>>=2),s+r},f.prototype._zeroBits=function(t){if(t===0)return 26;var r=t,s=0;return r&8191||(s+=13,r>>>=13),r&127||(s+=7,r>>>=7),r&15||(s+=4,r>>>=4),r&3||(s+=2,r>>>=2),r&1||s++,s},f.prototype.bitLength=function(){var t=this.words[this.length-1],r=this._countBits(t);return(this.length-1)*26+r};function w(d){for(var t=new Array(d.bitLength()),r=0;r<t.length;r++){var s=r/26|0,a=r%26;t[r]=d.words[s]>>>a&1}return t}f.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,r=0;r<this.length;r++){var s=this._zeroBits(this.words[r]);if(t+=s,s!==26)break}return t},f.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},f.prototype.toTwos=function(t){return this.negative!==0?this.abs().inotn(t).iaddn(1):this.clone()},f.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},f.prototype.isNeg=function(){return this.negative!==0},f.prototype.neg=function(){return this.clone().ineg()},f.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},f.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]|t.words[r];return this._strip()},f.prototype.ior=function(t){return h((this.negative|t.negative)===0),this.iuor(t)},f.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},f.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},f.prototype.iuand=function(t){var r;this.length>t.length?r=t:r=this;for(var s=0;s<r.length;s++)this.words[s]=this.words[s]&t.words[s];return this.length=r.length,this._strip()},f.prototype.iand=function(t){return h((this.negative|t.negative)===0),this.iuand(t)},f.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},f.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},f.prototype.iuxor=function(t){var r,s;this.length>t.length?(r=this,s=t):(r=t,s=this);for(var a=0;a<s.length;a++)this.words[a]=r.words[a]^s.words[a];if(this!==r)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=r.length,this._strip()},f.prototype.ixor=function(t){return h((this.negative|t.negative)===0),this.iuxor(t)},f.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},f.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},f.prototype.inotn=function(t){h(typeof t=="number"&&t>=0);var r=Math.ceil(t/26)|0,s=t%26;this._expand(r),s>0&&r--;for(var a=0;a<r;a++)this.words[a]=~this.words[a]&67108863;return s>0&&(this.words[a]=~this.words[a]&67108863>>26-s),this._strip()},f.prototype.notn=function(t){return this.clone().inotn(t)},f.prototype.setn=function(t,r){h(typeof t=="number"&&t>=0);var s=t/26|0,a=t%26;return this._expand(s+1),r?this.words[s]=this.words[s]|1<<a:this.words[s]=this.words[s]&~(1<<a),this._strip()},f.prototype.iadd=function(t){var r;if(this.negative!==0&&t.negative===0)return this.negative=0,r=this.isub(t),this.negative^=1,this._normSign();if(this.negative===0&&t.negative!==0)return t.negative=0,r=this.isub(t),t.negative=1,r._normSign();var s,a;this.length>t.length?(s=this,a=t):(s=t,a=this);for(var u=0,p=0;p<a.length;p++)r=(s.words[p]|0)+(a.words[p]|0)+u,this.words[p]=r&67108863,u=r>>>26;for(;u!==0&&p<s.length;p++)r=(s.words[p]|0)+u,this.words[p]=r&67108863,u=r>>>26;if(this.length=s.length,u!==0)this.words[this.length]=u,this.length++;else if(s!==this)for(;p<s.length;p++)this.words[p]=s.words[p];return this},f.prototype.add=function(t){var r;return t.negative!==0&&this.negative===0?(t.negative=0,r=this.sub(t),t.negative^=1,r):t.negative===0&&this.negative!==0?(this.negative=0,r=t.sub(this),this.negative=1,r):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},f.prototype.isub=function(t){if(t.negative!==0){t.negative=0;var r=this.iadd(t);return t.negative=1,r._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var s=this.cmp(t);if(s===0)return this.negative=0,this.length=1,this.words[0]=0,this;var a,u;s>0?(a=this,u=t):(a=t,u=this);for(var p=0,g=0;g<u.length;g++)r=(a.words[g]|0)-(u.words[g]|0)+p,p=r>>26,this.words[g]=r&67108863;for(;p!==0&&g<a.length;g++)r=(a.words[g]|0)+p,p=r>>26,this.words[g]=r&67108863;if(p===0&&g<a.length&&a!==this)for(;g<a.length;g++)this.words[g]=a.words[g];return this.length=Math.max(this.length,g),a!==this&&(this.negative=1),this._strip()},f.prototype.sub=function(t){return this.clone().isub(t)};function _(d,t,r){r.negative=t.negative^d.negative;var s=d.length+t.length|0;r.length=s,s=s-1|0;var a=d.words[0]|0,u=t.words[0]|0,p=a*u,g=p&67108863,l=p/67108864|0;r.words[0]=g;for(var e=1;e<s;e++){for(var c=l>>>26,L=l&67108863,k=Math.min(e,t.length-1),O=Math.max(0,e-d.length+1);O<=k;O++){var j=e-O|0;a=d.words[j]|0,u=t.words[O]|0,p=a*u+L,c+=p/67108864|0,L=p&67108863}r.words[e]=L|0,l=c|0}return l!==0?r.words[e]=l|0:r.length--,r._strip()}var q=function(t,r,s){var a=t.words,u=r.words,p=s.words,g=0,l,e,c,L=a[0]|0,k=L&8191,O=L>>>13,j=a[1]|0,K=j&8191,F=j>>>13,Pt=a[2]|0,D=Pt&8191,Y=Pt>>>13,Zt=a[3]|0,G=Zt&8191,P=Zt>>>13,De=a[4]|0,X=De&8191,J=De>>>13,Ge=a[5]|0,Q=Ge&8191,tt=Ge>>>13,$e=a[6]|0,et=$e&8191,rt=$e>>>13,We=a[7]|0,it=We&8191,nt=We>>>13,je=a[8]|0,ot=je&8191,st=je>>>13,Xe=a[9]|0,ft=Xe&8191,ht=Xe>>>13,Je=u[0]|0,at=Je&8191,lt=Je>>>13,Qe=u[1]|0,ut=Qe&8191,ct=Qe>>>13,tr=u[2]|0,dt=tr&8191,pt=tr>>>13,er=u[3]|0,mt=er&8191,gt=er>>>13,rr=u[4]|0,vt=rr&8191,wt=rr>>>13,ir=u[5]|0,yt=ir&8191,Mt=ir>>>13,nr=u[6]|0,xt=nr&8191,bt=nr>>>13,or=u[7]|0,Bt=or&8191,Et=or>>>13,sr=u[8]|0,_t=sr&8191,St=sr>>>13,fr=u[9]|0,At=fr&8191,It=fr>>>13;s.negative=t.negative^r.negative,s.length=19,l=Math.imul(k,at),e=Math.imul(k,lt),e=e+Math.imul(O,at)|0,c=Math.imul(O,lt);var ae=(g+l|0)+((e&8191)<<13)|0;g=(c+(e>>>13)|0)+(ae>>>26)|0,ae&=67108863,l=Math.imul(K,at),e=Math.imul(K,lt),e=e+Math.imul(F,at)|0,c=Math.imul(F,lt),l=l+Math.imul(k,ut)|0,e=e+Math.imul(k,ct)|0,e=e+Math.imul(O,ut)|0,c=c+Math.imul(O,ct)|0;var le=(g+l|0)+((e&8191)<<13)|0;g=(c+(e>>>13)|0)+(le>>>26)|0,le&=67108863,l=Math.imul(D,at),e=Math.imul(D,lt),e=e+Math.imul(Y,at)|0,c=Math.imul(Y,lt),l=l+Math.imul(K,ut)|0,e=e+Math.imul(K,ct)|0,e=e+Math.imul(F,ut)|0,c=c+Math.imul(F,ct)|0,l=l+Math.imul(k,dt)|0,e=e+Math.imul(k,pt)|0,e=e+Math.imul(O,dt)|0,c=c+Math.imul(O,pt)|0;var ue=(g+l|0)+((e&8191)<<13)|0;g=(c+(e>>>13)|0)+(ue>>>26)|0,ue&=67108863,l=Math.imul(G,at),e=Math.imul(G,lt),e=e+Math.imul(P,at)|0,c=Math.imul(P,lt),l=l+Math.imul(D,ut)|0,e=e+Math.imul(D,ct)|0,e=e+Math.imul(Y,ut)|0,c=c+Math.imul(Y,ct)|0,l=l+Math.imul(K,dt)|0,e=e+Math.imul(K,pt)|0,e=e+Math.imul(F,dt)|0,c=c+Math.imul(F,pt)|0,l=l+Math.imul(k,mt)|0,e=e+Math.imul(k,gt)|0,e=e+Math.imul(O,mt)|0,c=c+Math.imul(O,gt)|0;var ce=(g+l|0)+((e&8191)<<13)|0;g=(c+(e>>>13)|0)+(ce>>>26)|0,ce&=67108863,l=Math.imul(X,at),e=Math.imul(X,lt),e=e+Math.imul(J,at)|0,c=Math.imul(J,lt),l=l+Math.imul(G,ut)|0,e=e+Math.imul(G,ct)|0,e=e+Math.imul(P,ut)|0,c=c+Math.imul(P,ct)|0,l=l+Math.imul(D,dt)|0,e=e+Math.imul(D,pt)|0,e=e+Math.imul(Y,dt)|0,c=c+Math.imul(Y,pt)|0,l=l+Math.imul(K,mt)|0,e=e+Math.imul(K,gt)|0,e=e+Math.imul(F,mt)|0,c=c+Math.imul(F,gt)|0,l=l+Math.imul(k,vt)|0,e=e+Math.imul(k,wt)|0,e=e+Math.imul(O,vt)|0,c=c+Math.imul(O,wt)|0;var de=(g+l|0)+((e&8191)<<13)|0;g=(c+(e>>>13)|0)+(de>>>26)|0,de&=67108863,l=Math.imul(Q,at),e=Math.imul(Q,lt),e=e+Math.imul(tt,at)|0,c=Math.imul(tt,lt),l=l+Math.imul(X,ut)|0,e=e+Math.imul(X,ct)|0,e=e+Math.imul(J,ut)|0,c=c+Math.imul(J,ct)|0,l=l+Math.imul(G,dt)|0,e=e+Math.imul(G,pt)|0,e=e+Math.imul(P,dt)|0,c=c+Math.imul(P,pt)|0,l=l+Math.imul(D,mt)|0,e=e+Math.imul(D,gt)|0,e=e+Math.imul(Y,mt)|0,c=c+Math.imul(Y,gt)|0,l=l+Math.imul(K,vt)|0,e=e+Math.imul(K,wt)|0,e=e+Math.imul(F,vt)|0,c=c+Math.imul(F,wt)|0,l=l+Math.imul(k,yt)|0,e=e+Math.imul(k,Mt)|0,e=e+Math.imul(O,yt)|0,c=c+Math.imul(O,Mt)|0;var pe=(g+l|0)+((e&8191)<<13)|0;g=(c+(e>>>13)|0)+(pe>>>26)|0,pe&=67108863,l=Math.imul(et,at),e=Math.imul(et,lt),e=e+Math.imul(rt,at)|0,c=Math.imul(rt,lt),l=l+Math.imul(Q,ut)|0,e=e+Math.imul(Q,ct)|0,e=e+Math.imul(tt,ut)|0,c=c+Math.imul(tt,ct)|0,l=l+Math.imul(X,dt)|0,e=e+Math.imul(X,pt)|0,e=e+Math.imul(J,dt)|0,c=c+Math.imul(J,pt)|0,l=l+Math.imul(G,mt)|0,e=e+Math.imul(G,gt)|0,e=e+Math.imul(P,mt)|0,c=c+Math.imul(P,gt)|0,l=l+Math.imul(D,vt)|0,e=e+Math.imul(D,wt)|0,e=e+Math.imul(Y,vt)|0,c=c+Math.imul(Y,wt)|0,l=l+Math.imul(K,yt)|0,e=e+Math.imul(K,Mt)|0,e=e+Math.imul(F,yt)|0,c=c+Math.imul(F,Mt)|0,l=l+Math.imul(k,xt)|0,e=e+Math.imul(k,bt)|0,e=e+Math.imul(O,xt)|0,c=c+Math.imul(O,bt)|0;var me=(g+l|0)+((e&8191)<<13)|0;g=(c+(e>>>13)|0)+(me>>>26)|0,me&=67108863,l=Math.imul(it,at),e=Math.imul(it,lt),e=e+Math.imul(nt,at)|0,c=Math.imul(nt,lt),l=l+Math.imul(et,ut)|0,e=e+Math.imul(et,ct)|0,e=e+Math.imul(rt,ut)|0,c=c+Math.imul(rt,ct)|0,l=l+Math.imul(Q,dt)|0,e=e+Math.imul(Q,pt)|0,e=e+Math.imul(tt,dt)|0,c=c+Math.imul(tt,pt)|0,l=l+Math.imul(X,mt)|0,e=e+Math.imul(X,gt)|0,e=e+Math.imul(J,mt)|0,c=c+Math.imul(J,gt)|0,l=l+Math.imul(G,vt)|0,e=e+Math.imul(G,wt)|0,e=e+Math.imul(P,vt)|0,c=c+Math.imul(P,wt)|0,l=l+Math.imul(D,yt)|0,e=e+Math.imul(D,Mt)|0,e=e+Math.imul(Y,yt)|0,c=c+Math.imul(Y,Mt)|0,l=l+Math.imul(K,xt)|0,e=e+Math.imul(K,bt)|0,e=e+Math.imul(F,xt)|0,c=c+Math.imul(F,bt)|0,l=l+Math.imul(k,Bt)|0,e=e+Math.imul(k,Et)|0,e=e+Math.imul(O,Bt)|0,c=c+Math.imul(O,Et)|0;var ge=(g+l|0)+((e&8191)<<13)|0;g=(c+(e>>>13)|0)+(ge>>>26)|0,ge&=67108863,l=Math.imul(ot,at),e=Math.imul(ot,lt),e=e+Math.imul(st,at)|0,c=Math.imul(st,lt),l=l+Math.imul(it,ut)|0,e=e+Math.imul(it,ct)|0,e=e+Math.imul(nt,ut)|0,c=c+Math.imul(nt,ct)|0,l=l+Math.imul(et,dt)|0,e=e+Math.imul(et,pt)|0,e=e+Math.imul(rt,dt)|0,c=c+Math.imul(rt,pt)|0,l=l+Math.imul(Q,mt)|0,e=e+Math.imul(Q,gt)|0,e=e+Math.imul(tt,mt)|0,c=c+Math.imul(tt,gt)|0,l=l+Math.imul(X,vt)|0,e=e+Math.imul(X,wt)|0,e=e+Math.imul(J,vt)|0,c=c+Math.imul(J,wt)|0,l=l+Math.imul(G,yt)|0,e=e+Math.imul(G,Mt)|0,e=e+Math.imul(P,yt)|0,c=c+Math.imul(P,Mt)|0,l=l+Math.imul(D,xt)|0,e=e+Math.imul(D,bt)|0,e=e+Math.imul(Y,xt)|0,c=c+Math.imul(Y,bt)|0,l=l+Math.imul(K,Bt)|0,e=e+Math.imul(K,Et)|0,e=e+Math.imul(F,Bt)|0,c=c+Math.imul(F,Et)|0,l=l+Math.imul(k,_t)|0,e=e+Math.imul(k,St)|0,e=e+Math.imul(O,_t)|0,c=c+Math.imul(O,St)|0;var ve=(g+l|0)+((e&8191)<<13)|0;g=(c+(e>>>13)|0)+(ve>>>26)|0,ve&=67108863,l=Math.imul(ft,at),e=Math.imul(ft,lt),e=e+Math.imul(ht,at)|0,c=Math.imul(ht,lt),l=l+Math.imul(ot,ut)|0,e=e+Math.imul(ot,ct)|0,e=e+Math.imul(st,ut)|0,c=c+Math.imul(st,ct)|0,l=l+Math.imul(it,dt)|0,e=e+Math.imul(it,pt)|0,e=e+Math.imul(nt,dt)|0,c=c+Math.imul(nt,pt)|0,l=l+Math.imul(et,mt)|0,e=e+Math.imul(et,gt)|0,e=e+Math.imul(rt,mt)|0,c=c+Math.imul(rt,gt)|0,l=l+Math.imul(Q,vt)|0,e=e+Math.imul(Q,wt)|0,e=e+Math.imul(tt,vt)|0,c=c+Math.imul(tt,wt)|0,l=l+Math.imul(X,yt)|0,e=e+Math.imul(X,Mt)|0,e=e+Math.imul(J,yt)|0,c=c+Math.imul(J,Mt)|0,l=l+Math.imul(G,xt)|0,e=e+Math.imul(G,bt)|0,e=e+Math.imul(P,xt)|0,c=c+Math.imul(P,bt)|0,l=l+Math.imul(D,Bt)|0,e=e+Math.imul(D,Et)|0,e=e+Math.imul(Y,Bt)|0,c=c+Math.imul(Y,Et)|0,l=l+Math.imul(K,_t)|0,e=e+Math.imul(K,St)|0,e=e+Math.imul(F,_t)|0,c=c+Math.imul(F,St)|0,l=l+Math.imul(k,At)|0,e=e+Math.imul(k,It)|0,e=e+Math.imul(O,At)|0,c=c+Math.imul(O,It)|0;var we=(g+l|0)+((e&8191)<<13)|0;g=(c+(e>>>13)|0)+(we>>>26)|0,we&=67108863,l=Math.imul(ft,ut),e=Math.imul(ft,ct),e=e+Math.imul(ht,ut)|0,c=Math.imul(ht,ct),l=l+Math.imul(ot,dt)|0,e=e+Math.imul(ot,pt)|0,e=e+Math.imul(st,dt)|0,c=c+Math.imul(st,pt)|0,l=l+Math.imul(it,mt)|0,e=e+Math.imul(it,gt)|0,e=e+Math.imul(nt,mt)|0,c=c+Math.imul(nt,gt)|0,l=l+Math.imul(et,vt)|0,e=e+Math.imul(et,wt)|0,e=e+Math.imul(rt,vt)|0,c=c+Math.imul(rt,wt)|0,l=l+Math.imul(Q,yt)|0,e=e+Math.imul(Q,Mt)|0,e=e+Math.imul(tt,yt)|0,c=c+Math.imul(tt,Mt)|0,l=l+Math.imul(X,xt)|0,e=e+Math.imul(X,bt)|0,e=e+Math.imul(J,xt)|0,c=c+Math.imul(J,bt)|0,l=l+Math.imul(G,Bt)|0,e=e+Math.imul(G,Et)|0,e=e+Math.imul(P,Bt)|0,c=c+Math.imul(P,Et)|0,l=l+Math.imul(D,_t)|0,e=e+Math.imul(D,St)|0,e=e+Math.imul(Y,_t)|0,c=c+Math.imul(Y,St)|0,l=l+Math.imul(K,At)|0,e=e+Math.imul(K,It)|0,e=e+Math.imul(F,At)|0,c=c+Math.imul(F,It)|0;var ye=(g+l|0)+((e&8191)<<13)|0;g=(c+(e>>>13)|0)+(ye>>>26)|0,ye&=67108863,l=Math.imul(ft,dt),e=Math.imul(ft,pt),e=e+Math.imul(ht,dt)|0,c=Math.imul(ht,pt),l=l+Math.imul(ot,mt)|0,e=e+Math.imul(ot,gt)|0,e=e+Math.imul(st,mt)|0,c=c+Math.imul(st,gt)|0,l=l+Math.imul(it,vt)|0,e=e+Math.imul(it,wt)|0,e=e+Math.imul(nt,vt)|0,c=c+Math.imul(nt,wt)|0,l=l+Math.imul(et,yt)|0,e=e+Math.imul(et,Mt)|0,e=e+Math.imul(rt,yt)|0,c=c+Math.imul(rt,Mt)|0,l=l+Math.imul(Q,xt)|0,e=e+Math.imul(Q,bt)|0,e=e+Math.imul(tt,xt)|0,c=c+Math.imul(tt,bt)|0,l=l+Math.imul(X,Bt)|0,e=e+Math.imul(X,Et)|0,e=e+Math.imul(J,Bt)|0,c=c+Math.imul(J,Et)|0,l=l+Math.imul(G,_t)|0,e=e+Math.imul(G,St)|0,e=e+Math.imul(P,_t)|0,c=c+Math.imul(P,St)|0,l=l+Math.imul(D,At)|0,e=e+Math.imul(D,It)|0,e=e+Math.imul(Y,At)|0,c=c+Math.imul(Y,It)|0;var Me=(g+l|0)+((e&8191)<<13)|0;g=(c+(e>>>13)|0)+(Me>>>26)|0,Me&=67108863,l=Math.imul(ft,mt),e=Math.imul(ft,gt),e=e+Math.imul(ht,mt)|0,c=Math.imul(ht,gt),l=l+Math.imul(ot,vt)|0,e=e+Math.imul(ot,wt)|0,e=e+Math.imul(st,vt)|0,c=c+Math.imul(st,wt)|0,l=l+Math.imul(it,yt)|0,e=e+Math.imul(it,Mt)|0,e=e+Math.imul(nt,yt)|0,c=c+Math.imul(nt,Mt)|0,l=l+Math.imul(et,xt)|0,e=e+Math.imul(et,bt)|0,e=e+Math.imul(rt,xt)|0,c=c+Math.imul(rt,bt)|0,l=l+Math.imul(Q,Bt)|0,e=e+Math.imul(Q,Et)|0,e=e+Math.imul(tt,Bt)|0,c=c+Math.imul(tt,Et)|0,l=l+Math.imul(X,_t)|0,e=e+Math.imul(X,St)|0,e=e+Math.imul(J,_t)|0,c=c+Math.imul(J,St)|0,l=l+Math.imul(G,At)|0,e=e+Math.imul(G,It)|0,e=e+Math.imul(P,At)|0,c=c+Math.imul(P,It)|0;var xe=(g+l|0)+((e&8191)<<13)|0;g=(c+(e>>>13)|0)+(xe>>>26)|0,xe&=67108863,l=Math.imul(ft,vt),e=Math.imul(ft,wt),e=e+Math.imul(ht,vt)|0,c=Math.imul(ht,wt),l=l+Math.imul(ot,yt)|0,e=e+Math.imul(ot,Mt)|0,e=e+Math.imul(st,yt)|0,c=c+Math.imul(st,Mt)|0,l=l+Math.imul(it,xt)|0,e=e+Math.imul(it,bt)|0,e=e+Math.imul(nt,xt)|0,c=c+Math.imul(nt,bt)|0,l=l+Math.imul(et,Bt)|0,e=e+Math.imul(et,Et)|0,e=e+Math.imul(rt,Bt)|0,c=c+Math.imul(rt,Et)|0,l=l+Math.imul(Q,_t)|0,e=e+Math.imul(Q,St)|0,e=e+Math.imul(tt,_t)|0,c=c+Math.imul(tt,St)|0,l=l+Math.imul(X,At)|0,e=e+Math.imul(X,It)|0,e=e+Math.imul(J,At)|0,c=c+Math.imul(J,It)|0;var be=(g+l|0)+((e&8191)<<13)|0;g=(c+(e>>>13)|0)+(be>>>26)|0,be&=67108863,l=Math.imul(ft,yt),e=Math.imul(ft,Mt),e=e+Math.imul(ht,yt)|0,c=Math.imul(ht,Mt),l=l+Math.imul(ot,xt)|0,e=e+Math.imul(ot,bt)|0,e=e+Math.imul(st,xt)|0,c=c+Math.imul(st,bt)|0,l=l+Math.imul(it,Bt)|0,e=e+Math.imul(it,Et)|0,e=e+Math.imul(nt,Bt)|0,c=c+Math.imul(nt,Et)|0,l=l+Math.imul(et,_t)|0,e=e+Math.imul(et,St)|0,e=e+Math.imul(rt,_t)|0,c=c+Math.imul(rt,St)|0,l=l+Math.imul(Q,At)|0,e=e+Math.imul(Q,It)|0,e=e+Math.imul(tt,At)|0,c=c+Math.imul(tt,It)|0;var Be=(g+l|0)+((e&8191)<<13)|0;g=(c+(e>>>13)|0)+(Be>>>26)|0,Be&=67108863,l=Math.imul(ft,xt),e=Math.imul(ft,bt),e=e+Math.imul(ht,xt)|0,c=Math.imul(ht,bt),l=l+Math.imul(ot,Bt)|0,e=e+Math.imul(ot,Et)|0,e=e+Math.imul(st,Bt)|0,c=c+Math.imul(st,Et)|0,l=l+Math.imul(it,_t)|0,e=e+Math.imul(it,St)|0,e=e+Math.imul(nt,_t)|0,c=c+Math.imul(nt,St)|0,l=l+Math.imul(et,At)|0,e=e+Math.imul(et,It)|0,e=e+Math.imul(rt,At)|0,c=c+Math.imul(rt,It)|0;var Ee=(g+l|0)+((e&8191)<<13)|0;g=(c+(e>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,l=Math.imul(ft,Bt),e=Math.imul(ft,Et),e=e+Math.imul(ht,Bt)|0,c=Math.imul(ht,Et),l=l+Math.imul(ot,_t)|0,e=e+Math.imul(ot,St)|0,e=e+Math.imul(st,_t)|0,c=c+Math.imul(st,St)|0,l=l+Math.imul(it,At)|0,e=e+Math.imul(it,It)|0,e=e+Math.imul(nt,At)|0,c=c+Math.imul(nt,It)|0;var _e=(g+l|0)+((e&8191)<<13)|0;g=(c+(e>>>13)|0)+(_e>>>26)|0,_e&=67108863,l=Math.imul(ft,_t),e=Math.imul(ft,St),e=e+Math.imul(ht,_t)|0,c=Math.imul(ht,St),l=l+Math.imul(ot,At)|0,e=e+Math.imul(ot,It)|0,e=e+Math.imul(st,At)|0,c=c+Math.imul(st,It)|0;var Se=(g+l|0)+((e&8191)<<13)|0;g=(c+(e>>>13)|0)+(Se>>>26)|0,Se&=67108863,l=Math.imul(ft,At),e=Math.imul(ft,It),e=e+Math.imul(ht,At)|0,c=Math.imul(ht,It);var Ae=(g+l|0)+((e&8191)<<13)|0;return g=(c+(e>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,p[0]=ae,p[1]=le,p[2]=ue,p[3]=ce,p[4]=de,p[5]=pe,p[6]=me,p[7]=ge,p[8]=ve,p[9]=we,p[10]=ye,p[11]=Me,p[12]=xe,p[13]=be,p[14]=Be,p[15]=Ee,p[16]=_e,p[17]=Se,p[18]=Ae,g!==0&&(p[19]=g,s.length++),s};Math.imul||(q=_);function A(d,t,r){r.negative=t.negative^d.negative,r.length=d.length+t.length;for(var s=0,a=0,u=0;u<r.length-1;u++){var p=a;a=0;for(var g=s&67108863,l=Math.min(u,t.length-1),e=Math.max(0,u-d.length+1);e<=l;e++){var c=u-e,L=d.words[c]|0,k=t.words[e]|0,O=L*k,j=O&67108863;p=p+(O/67108864|0)|0,j=j+g|0,g=j&67108863,p=p+(j>>>26)|0,a+=p>>>26,p&=67108863}r.words[u]=g,s=p,p=a}return s!==0?r.words[u]=s:r.length--,r._strip()}function Z(d,t,r){return A(d,t,r)}f.prototype.mulTo=function(t,r){var s,a=this.length+t.length;return this.length===10&&t.length===10?s=q(this,t,r):a<63?s=_(this,t,r):a<1024?s=A(this,t,r):s=Z(this,t,r),s},f.prototype.mul=function(t){var r=new f(null);return r.words=new Array(this.length+t.length),this.mulTo(t,r)},f.prototype.mulf=function(t){var r=new f(null);return r.words=new Array(this.length+t.length),Z(this,t,r)},f.prototype.imul=function(t){return this.clone().mulTo(t,this)},f.prototype.imuln=function(t){var r=t<0;r&&(t=-t),h(typeof t=="number"),h(t<67108864);for(var s=0,a=0;a<this.length;a++){var u=(this.words[a]|0)*t,p=(u&67108863)+(s&67108863);s>>=26,s+=u/67108864|0,s+=p>>>26,this.words[a]=p&67108863}return s!==0&&(this.words[a]=s,this.length++),r?this.ineg():this},f.prototype.muln=function(t){return this.clone().imuln(t)},f.prototype.sqr=function(){return this.mul(this)},f.prototype.isqr=function(){return this.imul(this.clone())},f.prototype.pow=function(t){var r=w(t);if(r.length===0)return new f(1);for(var s=this,a=0;a<r.length&&r[a]===0;a++,s=s.sqr());if(++a<r.length)for(var u=s.sqr();a<r.length;a++,u=u.sqr())r[a]!==0&&(s=s.mul(u));return s},f.prototype.iushln=function(t){h(typeof t=="number"&&t>=0);var r=t%26,s=(t-r)/26,a=67108863>>>26-r<<26-r,u;if(r!==0){var p=0;for(u=0;u<this.length;u++){var g=this.words[u]&a,l=(this.words[u]|0)-g<<r;this.words[u]=l|p,p=g>>>26-r}p&&(this.words[u]=p,this.length++)}if(s!==0){for(u=this.length-1;u>=0;u--)this.words[u+s]=this.words[u];for(u=0;u<s;u++)this.words[u]=0;this.length+=s}return this._strip()},f.prototype.ishln=function(t){return h(this.negative===0),this.iushln(t)},f.prototype.iushrn=function(t,r,s){h(typeof t=="number"&&t>=0);var a;r?a=(r-r%26)/26:a=0;var u=t%26,p=Math.min((t-u)/26,this.length),g=67108863^67108863>>>u<<u,l=s;if(a-=p,a=Math.max(0,a),l){for(var e=0;e<p;e++)l.words[e]=this.words[e];l.length=p}if(p!==0)if(this.length>p)for(this.length-=p,e=0;e<this.length;e++)this.words[e]=this.words[e+p];else this.words[0]=0,this.length=1;var c=0;for(e=this.length-1;e>=0&&(c!==0||e>=a);e--){var L=this.words[e]|0;this.words[e]=c<<26-u|L>>>u,c=L&g}return l&&c!==0&&(l.words[l.length++]=c),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},f.prototype.ishrn=function(t,r,s){return h(this.negative===0),this.iushrn(t,r,s)},f.prototype.shln=function(t){return this.clone().ishln(t)},f.prototype.ushln=function(t){return this.clone().iushln(t)},f.prototype.shrn=function(t){return this.clone().ishrn(t)},f.prototype.ushrn=function(t){return this.clone().iushrn(t)},f.prototype.testn=function(t){h(typeof t=="number"&&t>=0);var r=t%26,s=(t-r)/26,a=1<<r;if(this.length<=s)return!1;var u=this.words[s];return!!(u&a)},f.prototype.imaskn=function(t){h(typeof t=="number"&&t>=0);var r=t%26,s=(t-r)/26;if(h(this.negative===0,"imaskn works only with positive numbers"),this.length<=s)return this;if(r!==0&&s++,this.length=Math.min(s,this.length),r!==0){var a=67108863^67108863>>>r<<r;this.words[this.length-1]&=a}return this._strip()},f.prototype.maskn=function(t){return this.clone().imaskn(t)},f.prototype.iaddn=function(t){return h(typeof t=="number"),h(t<67108864),t<0?this.isubn(-t):this.negative!==0?this.length===1&&(this.words[0]|0)<=t?(this.words[0]=t-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},f.prototype._iaddn=function(t){this.words[0]+=t;for(var r=0;r<this.length&&this.words[r]>=67108864;r++)this.words[r]-=67108864,r===this.length-1?this.words[r+1]=1:this.words[r+1]++;return this.length=Math.max(this.length,r+1),this},f.prototype.isubn=function(t){if(h(typeof t=="number"),h(t<67108864),t<0)return this.iaddn(-t);if(this.negative!==0)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var r=0;r<this.length&&this.words[r]<0;r++)this.words[r]+=67108864,this.words[r+1]-=1;return this._strip()},f.prototype.addn=function(t){return this.clone().iaddn(t)},f.prototype.subn=function(t){return this.clone().isubn(t)},f.prototype.iabs=function(){return this.negative=0,this},f.prototype.abs=function(){return this.clone().iabs()},f.prototype._ishlnsubmul=function(t,r,s){var a=t.length+s,u;this._expand(a);var p,g=0;for(u=0;u<t.length;u++){p=(this.words[u+s]|0)+g;var l=(t.words[u]|0)*r;p-=l&67108863,g=(p>>26)-(l/67108864|0),this.words[u+s]=p&67108863}for(;u<this.length-s;u++)p=(this.words[u+s]|0)+g,g=p>>26,this.words[u+s]=p&67108863;if(g===0)return this._strip();for(h(g===-1),g=0,u=0;u<this.length;u++)p=-(this.words[u]|0)+g,g=p>>26,this.words[u]=p&67108863;return this.negative=1,this._strip()},f.prototype._wordDiv=function(t,r){var s=this.length-t.length,a=this.clone(),u=t,p=u.words[u.length-1]|0,g=this._countBits(p);s=26-g,s!==0&&(u=u.ushln(s),a.iushln(s),p=u.words[u.length-1]|0);var l=a.length-u.length,e;if(r!=="mod"){e=new f(null),e.length=l+1,e.words=new Array(e.length);for(var c=0;c<e.length;c++)e.words[c]=0}var L=a.clone()._ishlnsubmul(u,1,l);L.negative===0&&(a=L,e&&(e.words[l]=1));for(var k=l-1;k>=0;k--){var O=(a.words[u.length+k]|0)*67108864+(a.words[u.length+k-1]|0);for(O=Math.min(O/p|0,67108863),a._ishlnsubmul(u,O,k);a.negative!==0;)O--,a.negative=0,a._ishlnsubmul(u,1,k),a.isZero()||(a.negative^=1);e&&(e.words[k]=O)}return e&&e._strip(),a._strip(),r!=="div"&&s!==0&&a.iushrn(s),{div:e||null,mod:a}},f.prototype.divmod=function(t,r,s){if(h(!t.isZero()),this.isZero())return{div:new f(0),mod:new f(0)};var a,u,p;return this.negative!==0&&t.negative===0?(p=this.neg().divmod(t,r),r!=="mod"&&(a=p.div.neg()),r!=="div"&&(u=p.mod.neg(),s&&u.negative!==0&&u.iadd(t)),{div:a,mod:u}):this.negative===0&&t.negative!==0?(p=this.divmod(t.neg(),r),r!=="mod"&&(a=p.div.neg()),{div:a,mod:p.mod}):this.negative&t.negative?(p=this.neg().divmod(t.neg(),r),r!=="div"&&(u=p.mod.neg(),s&&u.negative!==0&&u.isub(t)),{div:p.div,mod:u}):t.length>this.length||this.cmp(t)<0?{div:new f(0),mod:this}:t.length===1?r==="div"?{div:this.divn(t.words[0]),mod:null}:r==="mod"?{div:null,mod:new f(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new f(this.modrn(t.words[0]))}:this._wordDiv(t,r)},f.prototype.div=function(t){return this.divmod(t,"div",!1).div},f.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},f.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},f.prototype.divRound=function(t){var r=this.divmod(t);if(r.mod.isZero())return r.div;var s=r.div.negative!==0?r.mod.isub(t):r.mod,a=t.ushrn(1),u=t.andln(1),p=s.cmp(a);return p<0||u===1&&p===0?r.div:r.div.negative!==0?r.div.isubn(1):r.div.iaddn(1)},f.prototype.modrn=function(t){var r=t<0;r&&(t=-t),h(t<=67108863);for(var s=(1<<26)%t,a=0,u=this.length-1;u>=0;u--)a=(s*a+(this.words[u]|0))%t;return r?-a:a},f.prototype.modn=function(t){return this.modrn(t)},f.prototype.idivn=function(t){var r=t<0;r&&(t=-t),h(t<=67108863);for(var s=0,a=this.length-1;a>=0;a--){var u=(this.words[a]|0)+s*67108864;this.words[a]=u/t|0,s=u%t}return this._strip(),r?this.ineg():this},f.prototype.divn=function(t){return this.clone().idivn(t)},f.prototype.egcd=function(t){h(t.negative===0),h(!t.isZero());var r=this,s=t.clone();r.negative!==0?r=r.umod(t):r=r.clone();for(var a=new f(1),u=new f(0),p=new f(0),g=new f(1),l=0;r.isEven()&&s.isEven();)r.iushrn(1),s.iushrn(1),++l;for(var e=s.clone(),c=r.clone();!r.isZero();){for(var L=0,k=1;!(r.words[0]&k)&&L<26;++L,k<<=1);if(L>0)for(r.iushrn(L);L-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(e),u.isub(c)),a.iushrn(1),u.iushrn(1);for(var O=0,j=1;!(s.words[0]&j)&&O<26;++O,j<<=1);if(O>0)for(s.iushrn(O);O-- >0;)(p.isOdd()||g.isOdd())&&(p.iadd(e),g.isub(c)),p.iushrn(1),g.iushrn(1);r.cmp(s)>=0?(r.isub(s),a.isub(p),u.isub(g)):(s.isub(r),p.isub(a),g.isub(u))}return{a:p,b:g,gcd:s.iushln(l)}},f.prototype._invmp=function(t){h(t.negative===0),h(!t.isZero());var r=this,s=t.clone();r.negative!==0?r=r.umod(t):r=r.clone();for(var a=new f(1),u=new f(0),p=s.clone();r.cmpn(1)>0&&s.cmpn(1)>0;){for(var g=0,l=1;!(r.words[0]&l)&&g<26;++g,l<<=1);if(g>0)for(r.iushrn(g);g-- >0;)a.isOdd()&&a.iadd(p),a.iushrn(1);for(var e=0,c=1;!(s.words[0]&c)&&e<26;++e,c<<=1);if(e>0)for(s.iushrn(e);e-- >0;)u.isOdd()&&u.iadd(p),u.iushrn(1);r.cmp(s)>=0?(r.isub(s),a.isub(u)):(s.isub(r),u.isub(a))}var L;return r.cmpn(1)===0?L=a:L=u,L.cmpn(0)<0&&L.iadd(t),L},f.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var r=this.clone(),s=t.clone();r.negative=0,s.negative=0;for(var a=0;r.isEven()&&s.isEven();a++)r.iushrn(1),s.iushrn(1);do{for(;r.isEven();)r.iushrn(1);for(;s.isEven();)s.iushrn(1);var u=r.cmp(s);if(u<0){var p=r;r=s,s=p}else if(u===0||s.cmpn(1)===0)break;r.isub(s)}while(!0);return s.iushln(a)},f.prototype.invm=function(t){return this.egcd(t).a.umod(t)},f.prototype.isEven=function(){return(this.words[0]&1)===0},f.prototype.isOdd=function(){return(this.words[0]&1)===1},f.prototype.andln=function(t){return this.words[0]&t},f.prototype.bincn=function(t){h(typeof t=="number");var r=t%26,s=(t-r)/26,a=1<<r;if(this.length<=s)return this._expand(s+1),this.words[s]|=a,this;for(var u=a,p=s;u!==0&&p<this.length;p++){var g=this.words[p]|0;g+=u,u=g>>>26,g&=67108863,this.words[p]=g}return u!==0&&(this.words[p]=u,this.length++),this},f.prototype.isZero=function(){return this.length===1&&this.words[0]===0},f.prototype.cmpn=function(t){var r=t<0;if(this.negative!==0&&!r)return-1;if(this.negative===0&&r)return 1;this._strip();var s;if(this.length>1)s=1;else{r&&(t=-t),h(t<=67108863,"Number is too big");var a=this.words[0]|0;s=a===t?0:a<t?-1:1}return this.negative!==0?-s|0:s},f.prototype.cmp=function(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var r=this.ucmp(t);return this.negative!==0?-r|0:r},f.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var r=0,s=this.length-1;s>=0;s--){var a=this.words[s]|0,u=t.words[s]|0;if(a!==u){a<u?r=-1:a>u&&(r=1);break}}return r},f.prototype.gtn=function(t){return this.cmpn(t)===1},f.prototype.gt=function(t){return this.cmp(t)===1},f.prototype.gten=function(t){return this.cmpn(t)>=0},f.prototype.gte=function(t){return this.cmp(t)>=0},f.prototype.ltn=function(t){return this.cmpn(t)===-1},f.prototype.lt=function(t){return this.cmp(t)===-1},f.prototype.lten=function(t){return this.cmpn(t)<=0},f.prototype.lte=function(t){return this.cmp(t)<=0},f.prototype.eqn=function(t){return this.cmpn(t)===0},f.prototype.eq=function(t){return this.cmp(t)===0},f.red=function(t){return new R(t)},f.prototype.toRed=function(t){return h(!this.red,"Already a number in reduction context"),h(this.negative===0,"red works only with positives"),t.convertTo(this)._forceRed(t)},f.prototype.fromRed=function(){return h(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},f.prototype._forceRed=function(t){return this.red=t,this},f.prototype.forceRed=function(t){return h(!this.red,"Already a number in reduction context"),this._forceRed(t)},f.prototype.redAdd=function(t){return h(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},f.prototype.redIAdd=function(t){return h(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},f.prototype.redSub=function(t){return h(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},f.prototype.redISub=function(t){return h(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},f.prototype.redShl=function(t){return h(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},f.prototype.redMul=function(t){return h(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},f.prototype.redIMul=function(t){return h(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},f.prototype.redSqr=function(){return h(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},f.prototype.redISqr=function(){return h(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},f.prototype.redSqrt=function(){return h(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},f.prototype.redInvm=function(){return h(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},f.prototype.redNeg=function(){return h(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},f.prototype.redPow=function(t){return h(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var z={k256:null,p224:null,p192:null,p25519:null};function H(d,t){this.name=d,this.p=new f(t,16),this.n=this.p.bitLength(),this.k=new f(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}H.prototype._tmp=function(){var t=new f(null);return t.words=new Array(Math.ceil(this.n/13)),t},H.prototype.ireduce=function(t){var r=t,s;do this.split(r,this.tmp),r=this.imulK(r),r=r.iadd(this.tmp),s=r.bitLength();while(s>this.n);var a=s<this.n?-1:r.ucmp(this.p);return a===0?(r.words[0]=0,r.length=1):a>0?r.isub(this.p):r.strip!==void 0?r.strip():r._strip(),r},H.prototype.split=function(t,r){t.iushrn(this.n,0,r)},H.prototype.imulK=function(t){return t.imul(this.k)};function T(){H.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}m(T,H),T.prototype.split=function(t,r){for(var s=4194303,a=Math.min(t.length,9),u=0;u<a;u++)r.words[u]=t.words[u];if(r.length=a,t.length<=9){t.words[0]=0,t.length=1;return}var p=t.words[9];for(r.words[r.length++]=p&s,u=10;u<t.length;u++){var g=t.words[u]|0;t.words[u-10]=(g&s)<<4|p>>>22,p=g}p>>>=22,t.words[u-10]=p,p===0&&t.length>10?t.length-=10:t.length-=9},T.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var r=0,s=0;s<t.length;s++){var a=t.words[s]|0;r+=a*977,t.words[s]=r&67108863,r=a*64+(r/67108864|0)}return t.words[t.length-1]===0&&(t.length--,t.words[t.length-1]===0&&t.length--),t};function C(){H.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}m(C,H);function U(){H.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}m(U,H);function W(){H.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}m(W,H),W.prototype.imulK=function(t){for(var r=0,s=0;s<t.length;s++){var a=(t.words[s]|0)*19+r,u=a&67108863;a>>>=26,t.words[s]=u,r=a}return r!==0&&(t.words[t.length++]=r),t},f._prime=function(t){if(z[t])return z[t];var r;if(t==="k256")r=new T;else if(t==="p224")r=new C;else if(t==="p192")r=new U;else if(t==="p25519")r=new W;else throw new Error("Unknown prime "+t);return z[t]=r,r};function R(d){if(typeof d=="string"){var t=f._prime(d);this.m=t.p,this.prime=t}else h(d.gtn(1),"modulus must be greater than 1"),this.m=d,this.prime=null}R.prototype._verify1=function(t){h(t.negative===0,"red works only with positives"),h(t.red,"red works only with red numbers")},R.prototype._verify2=function(t,r){h((t.negative|r.negative)===0,"red works only with positives"),h(t.red&&t.red===r.red,"red works only with red numbers")},R.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(B(t,t.umod(this.m)._forceRed(this)),t)},R.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},R.prototype.add=function(t,r){this._verify2(t,r);var s=t.add(r);return s.cmp(this.m)>=0&&s.isub(this.m),s._forceRed(this)},R.prototype.iadd=function(t,r){this._verify2(t,r);var s=t.iadd(r);return s.cmp(this.m)>=0&&s.isub(this.m),s},R.prototype.sub=function(t,r){this._verify2(t,r);var s=t.sub(r);return s.cmpn(0)<0&&s.iadd(this.m),s._forceRed(this)},R.prototype.isub=function(t,r){this._verify2(t,r);var s=t.isub(r);return s.cmpn(0)<0&&s.iadd(this.m),s},R.prototype.shl=function(t,r){return this._verify1(t),this.imod(t.ushln(r))},R.prototype.imul=function(t,r){return this._verify2(t,r),this.imod(t.imul(r))},R.prototype.mul=function(t,r){return this._verify2(t,r),this.imod(t.mul(r))},R.prototype.isqr=function(t){return this.imul(t,t.clone())},R.prototype.sqr=function(t){return this.mul(t,t)},R.prototype.sqrt=function(t){if(t.isZero())return t.clone();var r=this.m.andln(3);if(h(r%2===1),r===3){var s=this.m.add(new f(1)).iushrn(2);return this.pow(t,s)}for(var a=this.m.subn(1),u=0;!a.isZero()&&a.andln(1)===0;)u++,a.iushrn(1);h(!a.isZero());var p=new f(1).toRed(this),g=p.redNeg(),l=this.m.subn(1).iushrn(1),e=this.m.bitLength();for(e=new f(2*e*e).toRed(this);this.pow(e,l).cmp(g)!==0;)e.redIAdd(g);for(var c=this.pow(e,a),L=this.pow(t,a.addn(1).iushrn(1)),k=this.pow(t,a),O=u;k.cmp(p)!==0;){for(var j=k,K=0;j.cmp(p)!==0;K++)j=j.redSqr();h(K<O);var F=this.pow(c,new f(1).iushln(O-K-1));L=L.redMul(F),c=F.redSqr(),k=k.redMul(c),O=K}return L},R.prototype.invm=function(t){var r=t._invmp(this.m);return r.negative!==0?(r.negative=0,this.imod(r).redNeg()):this.imod(r)},R.prototype.pow=function(t,r){if(r.isZero())return new f(1).toRed(this);if(r.cmpn(1)===0)return t.clone();var s=4,a=new Array(1<<s);a[0]=new f(1).toRed(this),a[1]=t;for(var u=2;u<a.length;u++)a[u]=this.mul(a[u-1],t);var p=a[0],g=0,l=0,e=r.bitLength()%26;for(e===0&&(e=26),u=r.length-1;u>=0;u--){for(var c=r.words[u],L=e-1;L>=0;L--){var k=c>>L&1;if(p!==a[0]&&(p=this.sqr(p)),k===0&&g===0){l=0;continue}g<<=1,g|=k,l++,!(l!==s&&(u!==0||L!==0))&&(p=this.mul(p,a[g]),l=0,g=0)}e=26}return p},R.prototype.convertTo=function(t){var r=t.umod(this.m);return r===t?r.clone():r},R.prototype.convertFrom=function(t){var r=t.clone();return r.red=null,r},f.mont=function(t){return new V(t)};function V(d){R.call(this,d),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new f(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}m(V,R),V.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},V.prototype.convertFrom=function(t){var r=this.imod(t.mul(this.rinv));return r.red=null,r},V.prototype.imul=function(t,r){if(t.isZero()||r.isZero())return t.words[0]=0,t.length=1,t;var s=t.imul(r),a=s.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=s.isub(a).iushrn(this.shift),p=u;return u.cmp(this.m)>=0?p=u.isub(this.m):u.cmpn(0)<0&&(p=u.iadd(this.m)),p._forceRed(this)},V.prototype.mul=function(t,r){if(t.isZero()||r.isZero())return new f(0)._forceRed(this);var s=t.mul(r),a=s.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=s.isub(a).iushrn(this.shift),p=u;return u.cmp(this.m)>=0?p=u.isub(this.m):u.cmpn(0)<0&&(p=u.iadd(this.m)),p._forceRed(this)},V.prototype.invm=function(t){var r=this.imod(t._invmp(this.m).mul(this.r2));return r._forceRed(this)}})(n,Tr)})(Ve);var Ur=Ve.exports;const nn=wr(Ur);function hr(n){if(!Number.isSafeInteger(n)||n<0)throw new Error("positive integer expected, got "+n)}function Zr(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function ne(n,...o){if(!Zr(n))throw new Error("Uint8Array expected");if(o.length>0&&!o.includes(n.length))throw new Error("Uint8Array expected of length "+o+", got length="+n.length)}function zr(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");hr(n.outputLen),hr(n.blockLen)}function ie(n,o=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(o&&n.finished)throw new Error("Hash#digest() has already been called")}function Cr(n,o){ne(n);const i=o.outputLen;if(n.length<i)throw new Error("digestInto() expects output buffer of length at least "+i)}const Dt=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function on(n){return new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4))}function Ie(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function Ht(n,o){return n<<32-o|n>>>o}const Vr=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function yr(n){return n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255}const sn=Vr?n=>n:n=>yr(n);function fn(n){for(let o=0;o<n.length;o++)n[o]=yr(n[o])}function Kr(n){if(typeof n!="string")throw new Error("utf8ToBytes expected string, got "+typeof n);return new Uint8Array(new TextEncoder().encode(n))}function oe(n){return typeof n=="string"&&(n=Kr(n)),ne(n),n}function Fr(...n){let o=0;for(let h=0;h<n.length;h++){const m=n[h];ne(m),o+=m.length}const i=new Uint8Array(o);for(let h=0,m=0;h<n.length;h++){const f=n[h];i.set(f,m),m+=f.length}return i}class Mr{clone(){return this._cloneInto()}}function Yr(n){const o=h=>n().update(oe(h)).digest(),i=n();return o.outputLen=i.outputLen,o.blockLen=i.blockLen,o.create=()=>n(),o}function hn(n){const o=(h,m)=>n(m).update(oe(h)).digest(),i=n({});return o.outputLen=i.outputLen,o.blockLen=i.blockLen,o.create=h=>n(h),o}function Pr(n=32){if(Dt&&typeof Dt.getRandomValues=="function")return Dt.getRandomValues(new Uint8Array(n));if(Dt&&typeof Dt.randomBytes=="function")return Dt.randomBytes(n);throw new Error("crypto.getRandomValues must be defined")}const ee=BigInt(2**32-1),Te=BigInt(32);function xr(n,o=!1){return o?{h:Number(n&ee),l:Number(n>>Te&ee)}:{h:Number(n>>Te&ee)|0,l:Number(n&ee)|0}}function Dr(n,o=!1){let i=new Uint32Array(n.length),h=new Uint32Array(n.length);for(let m=0;m<n.length;m++){const{h:f,l:M}=xr(n[m],o);[i[m],h[m]]=[f,M]}return[i,h]}const Gr=(n,o)=>BigInt(n>>>0)<<Te|BigInt(o>>>0),$r=(n,o,i)=>n>>>i,Wr=(n,o,i)=>n<<32-i|o>>>i,jr=(n,o,i)=>n>>>i|o<<32-i,Xr=(n,o,i)=>n<<32-i|o>>>i,Jr=(n,o,i)=>n<<64-i|o>>>i-32,Qr=(n,o,i)=>n>>>i-32|o<<64-i,ti=(n,o)=>o,ei=(n,o)=>n,ri=(n,o,i)=>n<<i|o>>>32-i,ii=(n,o,i)=>o<<i|n>>>32-i,ni=(n,o,i)=>o<<i-32|n>>>64-i,oi=(n,o,i)=>n<<i-32|o>>>64-i;function si(n,o,i,h){const m=(o>>>0)+(h>>>0);return{h:n+i+(m/2**32|0)|0,l:m|0}}const fi=(n,o,i)=>(n>>>0)+(o>>>0)+(i>>>0),hi=(n,o,i,h)=>o+i+h+(n/2**32|0)|0,ai=(n,o,i,h)=>(n>>>0)+(o>>>0)+(i>>>0)+(h>>>0),li=(n,o,i,h,m)=>o+i+h+m+(n/2**32|0)|0,ui=(n,o,i,h,m)=>(n>>>0)+(o>>>0)+(i>>>0)+(h>>>0)+(m>>>0),ci=(n,o,i,h,m,f)=>o+i+h+m+f+(n/2**32|0)|0,an={fromBig:xr,split:Dr,toBig:Gr,shrSH:$r,shrSL:Wr,rotrSH:jr,rotrSL:Xr,rotrBH:Jr,rotrBL:Qr,rotr32H:ti,rotr32L:ei,rotlSH:ri,rotlSL:ii,rotlBH:ni,rotlBL:oi,add:si,add3L:fi,add3H:hi,add4L:ai,add4H:li,add5H:ci,add5L:ui};function di(n,o,i,h){if(typeof n.setBigUint64=="function")return n.setBigUint64(o,i,h);const m=BigInt(32),f=BigInt(4294967295),M=Number(i>>m&f),y=Number(i&f),v=h?4:0,x=h?0:4;n.setUint32(o+v,M,h),n.setUint32(o+x,y,h)}function pi(n,o,i){return n&o^~n&i}function mi(n,o,i){return n&o^n&i^o&i}class gi extends Mr{constructor(o,i,h,m){super(),this.blockLen=o,this.outputLen=i,this.padOffset=h,this.isLE=m,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(o),this.view=Ie(this.buffer)}update(o){ie(this);const{view:i,buffer:h,blockLen:m}=this;o=oe(o);const f=o.length;for(let M=0;M<f;){const y=Math.min(m-this.pos,f-M);if(y===m){const v=Ie(o);for(;m<=f-M;M+=m)this.process(v,M);continue}h.set(o.subarray(M,M+y),this.pos),this.pos+=y,M+=y,this.pos===m&&(this.process(i,0),this.pos=0)}return this.length+=o.length,this.roundClean(),this}digestInto(o){ie(this),Cr(o,this),this.finished=!0;const{buffer:i,view:h,blockLen:m,isLE:f}=this;let{pos:M}=this;i[M++]=128,this.buffer.subarray(M).fill(0),this.padOffset>m-M&&(this.process(h,0),M=0);for(let b=M;b<m;b++)i[b]=0;di(h,m-8,BigInt(this.length*8),f),this.process(h,0);const y=Ie(o),v=this.outputLen;if(v%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const x=v/4,B=this.get();if(x>B.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<x;b++)y.setUint32(4*b,B[b],f)}digest(){const{buffer:o,outputLen:i}=this;this.digestInto(o);const h=o.slice(0,i);return this.destroy(),h}_cloneInto(o){o||(o=new this.constructor),o.set(...this.get());const{blockLen:i,buffer:h,length:m,finished:f,destroyed:M,pos:y}=this;return o.length=m,o.pos=y,o.finished=f,o.destroyed=M,m%i&&o.buffer.set(h),o}}const vi=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),zt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ct=new Uint32Array(64);class wi extends gi{constructor(){super(64,32,8,!1),this.A=zt[0]|0,this.B=zt[1]|0,this.C=zt[2]|0,this.D=zt[3]|0,this.E=zt[4]|0,this.F=zt[5]|0,this.G=zt[6]|0,this.H=zt[7]|0}get(){const{A:o,B:i,C:h,D:m,E:f,F:M,G:y,H:v}=this;return[o,i,h,m,f,M,y,v]}set(o,i,h,m,f,M,y,v){this.A=o|0,this.B=i|0,this.C=h|0,this.D=m|0,this.E=f|0,this.F=M|0,this.G=y|0,this.H=v|0}process(o,i){for(let b=0;b<16;b++,i+=4)Ct[b]=o.getUint32(i,!1);for(let b=16;b<64;b++){const E=Ct[b-15],S=Ct[b-2],N=Ht(E,7)^Ht(E,18)^E>>>3,I=Ht(S,17)^Ht(S,19)^S>>>10;Ct[b]=I+Ct[b-7]+N+Ct[b-16]|0}let{A:h,B:m,C:f,D:M,E:y,F:v,G:x,H:B}=this;for(let b=0;b<64;b++){const E=Ht(y,6)^Ht(y,11)^Ht(y,25),S=B+E+pi(y,v,x)+vi[b]+Ct[b]|0,I=(Ht(h,2)^Ht(h,13)^Ht(h,22))+mi(h,m,f)|0;B=x,x=v,v=y,y=M+S|0,M=f,f=m,m=h,h=S+I|0}h=h+this.A|0,m=m+this.B|0,f=f+this.C|0,M=M+this.D|0,y=y+this.E|0,v=v+this.F|0,x=x+this.G|0,B=B+this.H|0,this.set(h,m,f,M,y,v,x,B)}roundClean(){Ct.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const yi=Yr(()=>new wi);class br extends Mr{constructor(o,i){super(),this.finished=!1,this.destroyed=!1,zr(o);const h=oe(i);if(this.iHash=o.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const m=this.blockLen,f=new Uint8Array(m);f.set(h.length>m?o.create().update(h).digest():h);for(let M=0;M<f.length;M++)f[M]^=54;this.iHash.update(f),this.oHash=o.create();for(let M=0;M<f.length;M++)f[M]^=106;this.oHash.update(f),f.fill(0)}update(o){return ie(this),this.iHash.update(o),this}digestInto(o){ie(this),ne(o,this.outputLen),this.finished=!0,this.iHash.digestInto(o),this.oHash.update(o),this.oHash.digestInto(o),this.destroy()}digest(){const o=new Uint8Array(this.oHash.outputLen);return this.digestInto(o),o}_cloneInto(o){o||(o=Object.create(Object.getPrototypeOf(this),{}));const{oHash:i,iHash:h,finished:m,destroyed:f,blockLen:M,outputLen:y}=this;return o=o,o.finished=m,o.destroyed=f,o.blockLen=M,o.outputLen=y,o.oHash=i._cloneInto(o.oHash),o.iHash=h._cloneInto(o.iHash),o}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Br=(n,o,i)=>new br(n,o).update(i).digest();Br.create=(n,o)=>new br(n,o);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const se=BigInt(0),fe=BigInt(1),Mi=BigInt(2);function Yt(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function Qt(n){if(!Yt(n))throw new Error("Uint8Array expected")}function $t(n,o){if(typeof o!="boolean")throw new Error(n+" boolean expected, got "+o)}const xi=Array.from({length:256},(n,o)=>o.toString(16).padStart(2,"0"));function Wt(n){Qt(n);let o="";for(let i=0;i<n.length;i++)o+=xi[n[i]];return o}function Gt(n){const o=n.toString(16);return o.length&1?"0"+o:o}function Ke(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return n===""?se:BigInt("0x"+n)}const Tt={_0:48,_9:57,A:65,F:70,a:97,f:102};function ar(n){if(n>=Tt._0&&n<=Tt._9)return n-Tt._0;if(n>=Tt.A&&n<=Tt.F)return n-(Tt.A-10);if(n>=Tt.a&&n<=Tt.f)return n-(Tt.a-10)}function jt(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const o=n.length,i=o/2;if(o%2)throw new Error("hex string expected, got unpadded hex of length "+o);const h=new Uint8Array(i);for(let m=0,f=0;m<i;m++,f+=2){const M=ar(n.charCodeAt(f)),y=ar(n.charCodeAt(f+1));if(M===void 0||y===void 0){const v=n[f]+n[f+1];throw new Error('hex string expected, got non-hex character "'+v+'" at index '+f)}h[m]=M*16+y}return h}function Kt(n){return Ke(Wt(n))}function Fe(n){return Qt(n),Ke(Wt(Uint8Array.from(n).reverse()))}function Xt(n,o){return jt(n.toString(16).padStart(o*2,"0"))}function Ye(n,o){return Xt(n,o).reverse()}function bi(n){return jt(Gt(n))}function Ot(n,o,i){let h;if(typeof o=="string")try{h=jt(o)}catch(f){throw new Error(n+" must be hex string or Uint8Array, cause: "+f)}else if(Yt(o))h=Uint8Array.from(o);else throw new Error(n+" must be hex string or Uint8Array");const m=h.length;if(typeof i=="number"&&m!==i)throw new Error(n+" of length "+i+" expected, got "+m);return h}function Jt(...n){let o=0;for(let h=0;h<n.length;h++){const m=n[h];Qt(m),o+=m.length}const i=new Uint8Array(o);for(let h=0,m=0;h<n.length;h++){const f=n[h];i.set(f,m),m+=f.length}return i}function Bi(n,o){if(n.length!==o.length)return!1;let i=0;for(let h=0;h<n.length;h++)i|=n[h]^o[h];return i===0}function Ei(n){if(typeof n!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(n))}const Le=n=>typeof n=="bigint"&&se<=n;function he(n,o,i){return Le(n)&&Le(o)&&Le(i)&&o<=n&&n<i}function Ft(n,o,i,h){if(!he(o,i,h))throw new Error("expected valid "+n+": "+i+" <= n < "+h+", got "+o)}function Er(n){let o;for(o=0;n>se;n>>=fe,o+=1);return o}function _i(n,o){return n>>BigInt(o)&fe}function Si(n,o,i){return n|(i?fe:se)<<BigInt(o)}const Pe=n=>(Mi<<BigInt(n-1))-fe,Ne=n=>new Uint8Array(n),lr=n=>Uint8Array.from(n);function _r(n,o,i){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof o!="number"||o<2)throw new Error("qByteLen must be a number");if(typeof i!="function")throw new Error("hmacFn must be a function");let h=Ne(n),m=Ne(n),f=0;const M=()=>{h.fill(1),m.fill(0),f=0},y=(...b)=>i(m,h,...b),v=(b=Ne())=>{m=y(lr([0]),b),h=y(),b.length!==0&&(m=y(lr([1]),b),h=y())},x=()=>{if(f++>=1e3)throw new Error("drbg: tried 1000 values");let b=0;const E=[];for(;b<o;){h=y();const S=h.slice();E.push(S),b+=h.length}return Jt(...E)};return(b,E)=>{M(),v(b);let S;for(;!(S=E(x()));)v();return M(),S}}const Ai={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||Yt(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,o)=>o.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function te(n,o,i={}){const h=(m,f,M)=>{const y=Ai[f];if(typeof y!="function")throw new Error("invalid validator function");const v=n[m];if(!(M&&v===void 0)&&!y(v,n))throw new Error("param "+String(m)+" is invalid. Expected "+f+", got "+v)};for(const[m,f]of Object.entries(o))h(m,f,!1);for(const[m,f]of Object.entries(i))h(m,f,!0);return n}const Ii=()=>{throw new Error("not implemented")};function Re(n){const o=new WeakMap;return(i,...h)=>{const m=o.get(i);if(m!==void 0)return m;const f=n(i,...h);return o.set(i,f),f}}const Li=Object.freeze(Object.defineProperty({__proto__:null,aInRange:Ft,abool:$t,abytes:Qt,bitGet:_i,bitLen:Er,bitMask:Pe,bitSet:Si,bytesToHex:Wt,bytesToNumberBE:Kt,bytesToNumberLE:Fe,concatBytes:Jt,createHmacDrbg:_r,ensureBytes:Ot,equalBytes:Bi,hexToBytes:jt,hexToNumber:Ke,inRange:he,isBytes:Yt,memoized:Re,notImplemented:Ii,numberToBytesBE:Xt,numberToBytesLE:Ye,numberToHexUnpadded:Gt,numberToVarBytesBE:bi,utf8ToBytes:Ei,validateObject:te},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Nt=BigInt(0),$=BigInt(1),Vt=BigInt(2),Ni=BigInt(3),Ue=BigInt(4),ur=BigInt(5),cr=BigInt(8);function qt(n,o){const i=n%o;return i>=Nt?i:o+i}function qi(n,o,i){if(o<Nt)throw new Error("invalid exponent, negatives unsupported");if(i<=Nt)throw new Error("invalid modulus");if(i===$)return Nt;let h=$;for(;o>Nt;)o&$&&(h=h*n%i),n=n*n%i,o>>=$;return h}function kt(n,o,i){let h=n;for(;o-- >Nt;)h*=h,h%=i;return h}function Ze(n,o){if(n===Nt)throw new Error("invert: expected non-zero number");if(o<=Nt)throw new Error("invert: expected positive modulus, got "+o);let i=qt(n,o),h=o,m=Nt,f=$;for(;i!==Nt;){const y=h/i,v=h%i,x=m-f*y;h=i,i=v,m=f,f=x}if(h!==$)throw new Error("invert: does not exist");return qt(m,o)}function ki(n){const o=(n-$)/Vt;let i,h,m;for(i=n-$,h=0;i%Vt===Nt;i/=Vt,h++);for(m=Vt;m<n&&qi(m,o,n)!==n-$;m++)if(m>1e3)throw new Error("Cannot find square root: likely non-prime P");if(h===1){const M=(n+$)/Ue;return function(v,x){const B=v.pow(x,M);if(!v.eql(v.sqr(B),x))throw new Error("Cannot find square root");return B}}const f=(i+$)/Vt;return function(y,v){if(y.pow(v,o)===y.neg(y.ONE))throw new Error("Cannot find square root");let x=h,B=y.pow(y.mul(y.ONE,m),i),b=y.pow(v,f),E=y.pow(v,i);for(;!y.eql(E,y.ONE);){if(y.eql(E,y.ZERO))return y.ZERO;let S=1;for(let I=y.sqr(E);S<x&&!y.eql(I,y.ONE);S++)I=y.sqr(I);const N=y.pow(B,$<<BigInt(x-S-1));B=y.sqr(N),b=y.mul(b,N),E=y.mul(E,B),x=S}return b}}function Oi(n){if(n%Ue===Ni){const o=(n+$)/Ue;return function(h,m){const f=h.pow(m,o);if(!h.eql(h.sqr(f),m))throw new Error("Cannot find square root");return f}}if(n%cr===ur){const o=(n-ur)/cr;return function(h,m){const f=h.mul(m,Vt),M=h.pow(f,o),y=h.mul(m,M),v=h.mul(h.mul(y,Vt),M),x=h.mul(y,h.sub(v,h.ONE));if(!h.eql(h.sqr(x),m))throw new Error("Cannot find square root");return x}}return ki(n)}const ln=(n,o)=>(qt(n,o)&$)===$,Hi=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Ti(n){const o={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},i=Hi.reduce((h,m)=>(h[m]="function",h),o);return te(n,i)}function Ri(n,o,i){if(i<Nt)throw new Error("invalid exponent, negatives unsupported");if(i===Nt)return n.ONE;if(i===$)return o;let h=n.ONE,m=o;for(;i>Nt;)i&$&&(h=n.mul(h,m)),m=n.sqr(m),i>>=$;return h}function Ui(n,o){const i=new Array(o.length),h=o.reduce((f,M,y)=>n.is0(M)?f:(i[y]=f,n.mul(f,M)),n.ONE),m=n.inv(h);return o.reduceRight((f,M,y)=>n.is0(M)?f:(i[y]=n.mul(f,i[y]),n.mul(f,M)),m),i}function Sr(n,o){const i=o!==void 0?o:n.toString(2).length,h=Math.ceil(i/8);return{nBitLength:i,nByteLength:h}}function Ar(n,o,i=!1,h={}){if(n<=Nt)throw new Error("invalid field: expected ORDER > 0, got "+n);const{nBitLength:m,nByteLength:f}=Sr(n,o);if(f>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let M;const y=Object.freeze({ORDER:n,isLE:i,BITS:m,BYTES:f,MASK:Pe(m),ZERO:Nt,ONE:$,create:v=>qt(v,n),isValid:v=>{if(typeof v!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof v);return Nt<=v&&v<n},is0:v=>v===Nt,isOdd:v=>(v&$)===$,neg:v=>qt(-v,n),eql:(v,x)=>v===x,sqr:v=>qt(v*v,n),add:(v,x)=>qt(v+x,n),sub:(v,x)=>qt(v-x,n),mul:(v,x)=>qt(v*x,n),pow:(v,x)=>Ri(y,v,x),div:(v,x)=>qt(v*Ze(x,n),n),sqrN:v=>v*v,addN:(v,x)=>v+x,subN:(v,x)=>v-x,mulN:(v,x)=>v*x,inv:v=>Ze(v,n),sqrt:h.sqrt||(v=>(M||(M=Oi(n)),M(y,v))),invertBatch:v=>Ui(y,v),cmov:(v,x,B)=>B?x:v,toBytes:v=>i?Ye(v,f):Xt(v,f),fromBytes:v=>{if(v.length!==f)throw new Error("Field.fromBytes: expected "+f+" bytes, got "+v.length);return i?Fe(v):Kt(v)}});return Object.freeze(y)}function Ir(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const o=n.toString(2).length;return Math.ceil(o/8)}function Lr(n){const o=Ir(n);return o+Math.ceil(o/2)}function Zi(n,o,i=!1){const h=n.length,m=Ir(o),f=Lr(o);if(h<16||h<f||h>1024)throw new Error("expected "+f+"-1024 bytes of input, got "+h);const M=i?Fe(n):Kt(n),y=qt(M,o-$)+$;return i?Ye(y,m):Xt(y,m)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const dr=BigInt(0),re=BigInt(1);function qe(n,o){const i=o.negate();return n?i:o}function Nr(n,o){if(!Number.isSafeInteger(n)||n<=0||n>o)throw new Error("invalid window size, expected [1.."+o+"], got W="+n)}function ke(n,o){Nr(n,o);const i=Math.ceil(o/n)+1,h=2**(n-1);return{windows:i,windowSize:h}}function zi(n,o){if(!Array.isArray(n))throw new Error("array expected");n.forEach((i,h)=>{if(!(i instanceof o))throw new Error("invalid point at index "+h)})}function Ci(n,o){if(!Array.isArray(n))throw new Error("array of scalars expected");n.forEach((i,h)=>{if(!o.isValid(i))throw new Error("invalid scalar at index "+h)})}const Oe=new WeakMap,qr=new WeakMap;function He(n){return qr.get(n)||1}function Vi(n,o){return{constTimeNegate:qe,hasPrecomputes(i){return He(i)!==1},unsafeLadder(i,h,m=n.ZERO){let f=i;for(;h>dr;)h&re&&(m=m.add(f)),f=f.double(),h>>=re;return m},precomputeWindow(i,h){const{windows:m,windowSize:f}=ke(h,o),M=[];let y=i,v=y;for(let x=0;x<m;x++){v=y,M.push(v);for(let B=1;B<f;B++)v=v.add(y),M.push(v);y=v.double()}return M},wNAF(i,h,m){const{windows:f,windowSize:M}=ke(i,o);let y=n.ZERO,v=n.BASE;const x=BigInt(2**i-1),B=2**i,b=BigInt(i);for(let E=0;E<f;E++){const S=E*M;let N=Number(m&x);m>>=b,N>M&&(N-=B,m+=re);const I=S,w=S+Math.abs(N)-1,_=E%2!==0,q=N<0;N===0?v=v.add(qe(_,h[I])):y=y.add(qe(q,h[w]))}return{p:y,f:v}},wNAFUnsafe(i,h,m,f=n.ZERO){const{windows:M,windowSize:y}=ke(i,o),v=BigInt(2**i-1),x=2**i,B=BigInt(i);for(let b=0;b<M;b++){const E=b*y;if(m===dr)break;let S=Number(m&v);if(m>>=B,S>y&&(S-=x,m+=re),S===0)continue;let N=h[E+Math.abs(S)-1];S<0&&(N=N.negate()),f=f.add(N)}return f},getPrecomputes(i,h,m){let f=Oe.get(h);return f||(f=this.precomputeWindow(h,i),i!==1&&Oe.set(h,m(f))),f},wNAFCached(i,h,m){const f=He(i);return this.wNAF(f,this.getPrecomputes(f,i,m),h)},wNAFCachedUnsafe(i,h,m,f){const M=He(i);return M===1?this.unsafeLadder(i,h,f):this.wNAFUnsafe(M,this.getPrecomputes(M,i,m),h,f)},setWindowSize(i,h){Nr(h,o),qr.set(i,h),Oe.delete(i)}}}function Ki(n,o,i,h){if(zi(i,n),Ci(h,o),i.length!==h.length)throw new Error("arrays of points and scalars must have equal length");const m=n.ZERO,f=Er(BigInt(i.length)),M=f>12?f-3:f>4?f-2:f?2:1,y=(1<<M)-1,v=new Array(y+1).fill(m),x=Math.floor((o.BITS-1)/M)*M;let B=m;for(let b=x;b>=0;b-=M){v.fill(m);for(let S=0;S<h.length;S++){const N=h[S],I=Number(N>>BigInt(b)&BigInt(y));v[I]=v[I].add(i[S])}let E=m;for(let S=v.length-1,N=m;S>0;S--)N=N.add(v[S]),E=E.add(N);if(B=B.add(E),b!==0)for(let S=0;S<M;S++)B=B.double()}return B}function kr(n){return Ti(n.Fp),te(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Sr(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function pr(n){n.lowS!==void 0&&$t("lowS",n.lowS),n.prehash!==void 0&&$t("prehash",n.prehash)}function Fi(n){const o=kr(n);te(o,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:i,Fp:h,a:m}=o;if(i){if(!h.eql(m,h.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof i!="object"||typeof i.beta!="bigint"||typeof i.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...o})}const{bytesToNumberBE:Yi,hexToBytes:Pi}=Li;class Di extends Error{constructor(o=""){super(o)}}const Rt={Err:Di,_tlv:{encode:(n,o)=>{const{Err:i}=Rt;if(n<0||n>256)throw new i("tlv.encode: wrong tag");if(o.length&1)throw new i("tlv.encode: unpadded data");const h=o.length/2,m=Gt(h);if(m.length/2&128)throw new i("tlv.encode: long form length too big");const f=h>127?Gt(m.length/2|128):"";return Gt(n)+f+m+o},decode(n,o){const{Err:i}=Rt;let h=0;if(n<0||n>256)throw new i("tlv.encode: wrong tag");if(o.length<2||o[h++]!==n)throw new i("tlv.decode: wrong tlv");const m=o[h++],f=!!(m&128);let M=0;if(!f)M=m;else{const v=m&127;if(!v)throw new i("tlv.decode(long): indefinite length not supported");if(v>4)throw new i("tlv.decode(long): byte length is too big");const x=o.subarray(h,h+v);if(x.length!==v)throw new i("tlv.decode: length bytes not complete");if(x[0]===0)throw new i("tlv.decode(long): zero leftmost byte");for(const B of x)M=M<<8|B;if(h+=v,M<128)throw new i("tlv.decode(long): not minimal encoding")}const y=o.subarray(h,h+M);if(y.length!==M)throw new i("tlv.decode: wrong value length");return{v:y,l:o.subarray(h+M)}}},_int:{encode(n){const{Err:o}=Rt;if(n<Ut)throw new o("integer: negative integers are not allowed");let i=Gt(n);if(Number.parseInt(i[0],16)&8&&(i="00"+i),i.length&1)throw new o("unexpected DER parsing assertion: unpadded hex");return i},decode(n){const{Err:o}=Rt;if(n[0]&128)throw new o("invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new o("invalid signature integer: unnecessary leading zero");return Yi(n)}},toSig(n){const{Err:o,_int:i,_tlv:h}=Rt,m=typeof n=="string"?Pi(n):n;Qt(m);const{v:f,l:M}=h.decode(48,m);if(M.length)throw new o("invalid signature: left bytes after parsing");const{v:y,l:v}=h.decode(2,f),{v:x,l:B}=h.decode(2,v);if(B.length)throw new o("invalid signature: left bytes after parsing");return{r:i.decode(y),s:i.decode(x)}},hexFromSig(n){const{_tlv:o,_int:i}=Rt,h=o.encode(2,i.encode(n.r)),m=o.encode(2,i.encode(n.s)),f=h+m;return o.encode(48,f)}},Ut=BigInt(0),Lt=BigInt(1);BigInt(2);const mr=BigInt(3);BigInt(4);function Gi(n){const o=Fi(n),{Fp:i}=o,h=Ar(o.n,o.nBitLength),m=o.toBytes||((I,w,_)=>{const q=w.toAffine();return Jt(Uint8Array.from([4]),i.toBytes(q.x),i.toBytes(q.y))}),f=o.fromBytes||(I=>{const w=I.subarray(1),_=i.fromBytes(w.subarray(0,i.BYTES)),q=i.fromBytes(w.subarray(i.BYTES,2*i.BYTES));return{x:_,y:q}});function M(I){const{a:w,b:_}=o,q=i.sqr(I),A=i.mul(q,I);return i.add(i.add(A,i.mul(I,w)),_)}if(!i.eql(i.sqr(o.Gy),M(o.Gx)))throw new Error("bad generator point: equation left != right");function y(I){return he(I,Lt,o.n)}function v(I){const{allowedPrivateKeyLengths:w,nByteLength:_,wrapPrivateKey:q,n:A}=o;if(w&&typeof I!="bigint"){if(Yt(I)&&(I=Wt(I)),typeof I!="string"||!w.includes(I.length))throw new Error("invalid private key");I=I.padStart(_*2,"0")}let Z;try{Z=typeof I=="bigint"?I:Kt(Ot("private key",I,_))}catch{throw new Error("invalid private key, expected hex or "+_+" bytes, got "+typeof I)}return q&&(Z=qt(Z,A)),Ft("private key",Z,Lt,A),Z}function x(I){if(!(I instanceof E))throw new Error("ProjectivePoint expected")}const B=Re((I,w)=>{const{px:_,py:q,pz:A}=I;if(i.eql(A,i.ONE))return{x:_,y:q};const Z=I.is0();w==null&&(w=Z?i.ONE:i.inv(A));const z=i.mul(_,w),H=i.mul(q,w),T=i.mul(A,w);if(Z)return{x:i.ZERO,y:i.ZERO};if(!i.eql(T,i.ONE))throw new Error("invZ was invalid");return{x:z,y:H}}),b=Re(I=>{if(I.is0()){if(o.allowInfinityPoint&&!i.is0(I.py))return;throw new Error("bad point: ZERO")}const{x:w,y:_}=I.toAffine();if(!i.isValid(w)||!i.isValid(_))throw new Error("bad point: x or y not FE");const q=i.sqr(_),A=M(w);if(!i.eql(q,A))throw new Error("bad point: equation left != right");if(!I.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class E{constructor(w,_,q){if(this.px=w,this.py=_,this.pz=q,w==null||!i.isValid(w))throw new Error("x required");if(_==null||!i.isValid(_))throw new Error("y required");if(q==null||!i.isValid(q))throw new Error("z required");Object.freeze(this)}static fromAffine(w){const{x:_,y:q}=w||{};if(!w||!i.isValid(_)||!i.isValid(q))throw new Error("invalid affine point");if(w instanceof E)throw new Error("projective point not allowed");const A=Z=>i.eql(Z,i.ZERO);return A(_)&&A(q)?E.ZERO:new E(_,q,i.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(w){const _=i.invertBatch(w.map(q=>q.pz));return w.map((q,A)=>q.toAffine(_[A])).map(E.fromAffine)}static fromHex(w){const _=E.fromAffine(f(Ot("pointHex",w)));return _.assertValidity(),_}static fromPrivateKey(w){return E.BASE.multiply(v(w))}static msm(w,_){return Ki(E,h,w,_)}_setWindowSize(w){N.setWindowSize(this,w)}assertValidity(){b(this)}hasEvenY(){const{y:w}=this.toAffine();if(i.isOdd)return!i.isOdd(w);throw new Error("Field doesn't support isOdd")}equals(w){x(w);const{px:_,py:q,pz:A}=this,{px:Z,py:z,pz:H}=w,T=i.eql(i.mul(_,H),i.mul(Z,A)),C=i.eql(i.mul(q,H),i.mul(z,A));return T&&C}negate(){return new E(this.px,i.neg(this.py),this.pz)}double(){const{a:w,b:_}=o,q=i.mul(_,mr),{px:A,py:Z,pz:z}=this;let H=i.ZERO,T=i.ZERO,C=i.ZERO,U=i.mul(A,A),W=i.mul(Z,Z),R=i.mul(z,z),V=i.mul(A,Z);return V=i.add(V,V),C=i.mul(A,z),C=i.add(C,C),H=i.mul(w,C),T=i.mul(q,R),T=i.add(H,T),H=i.sub(W,T),T=i.add(W,T),T=i.mul(H,T),H=i.mul(V,H),C=i.mul(q,C),R=i.mul(w,R),V=i.sub(U,R),V=i.mul(w,V),V=i.add(V,C),C=i.add(U,U),U=i.add(C,U),U=i.add(U,R),U=i.mul(U,V),T=i.add(T,U),R=i.mul(Z,z),R=i.add(R,R),U=i.mul(R,V),H=i.sub(H,U),C=i.mul(R,W),C=i.add(C,C),C=i.add(C,C),new E(H,T,C)}add(w){x(w);const{px:_,py:q,pz:A}=this,{px:Z,py:z,pz:H}=w;let T=i.ZERO,C=i.ZERO,U=i.ZERO;const W=o.a,R=i.mul(o.b,mr);let V=i.mul(_,Z),d=i.mul(q,z),t=i.mul(A,H),r=i.add(_,q),s=i.add(Z,z);r=i.mul(r,s),s=i.add(V,d),r=i.sub(r,s),s=i.add(_,A);let a=i.add(Z,H);return s=i.mul(s,a),a=i.add(V,t),s=i.sub(s,a),a=i.add(q,A),T=i.add(z,H),a=i.mul(a,T),T=i.add(d,t),a=i.sub(a,T),U=i.mul(W,s),T=i.mul(R,t),U=i.add(T,U),T=i.sub(d,U),U=i.add(d,U),C=i.mul(T,U),d=i.add(V,V),d=i.add(d,V),t=i.mul(W,t),s=i.mul(R,s),d=i.add(d,t),t=i.sub(V,t),t=i.mul(W,t),s=i.add(s,t),V=i.mul(d,s),C=i.add(C,V),V=i.mul(a,s),T=i.mul(r,T),T=i.sub(T,V),V=i.mul(r,d),U=i.mul(a,U),U=i.add(U,V),new E(T,C,U)}subtract(w){return this.add(w.negate())}is0(){return this.equals(E.ZERO)}wNAF(w){return N.wNAFCached(this,w,E.normalizeZ)}multiplyUnsafe(w){const{endo:_,n:q}=o;Ft("scalar",w,Ut,q);const A=E.ZERO;if(w===Ut)return A;if(this.is0()||w===Lt)return this;if(!_||N.hasPrecomputes(this))return N.wNAFCachedUnsafe(this,w,E.normalizeZ);let{k1neg:Z,k1:z,k2neg:H,k2:T}=_.splitScalar(w),C=A,U=A,W=this;for(;z>Ut||T>Ut;)z&Lt&&(C=C.add(W)),T&Lt&&(U=U.add(W)),W=W.double(),z>>=Lt,T>>=Lt;return Z&&(C=C.negate()),H&&(U=U.negate()),U=new E(i.mul(U.px,_.beta),U.py,U.pz),C.add(U)}multiply(w){const{endo:_,n:q}=o;Ft("scalar",w,Lt,q);let A,Z;if(_){const{k1neg:z,k1:H,k2neg:T,k2:C}=_.splitScalar(w);let{p:U,f:W}=this.wNAF(H),{p:R,f:V}=this.wNAF(C);U=N.constTimeNegate(z,U),R=N.constTimeNegate(T,R),R=new E(i.mul(R.px,_.beta),R.py,R.pz),A=U.add(R),Z=W.add(V)}else{const{p:z,f:H}=this.wNAF(w);A=z,Z=H}return E.normalizeZ([A,Z])[0]}multiplyAndAddUnsafe(w,_,q){const A=E.BASE,Z=(H,T)=>T===Ut||T===Lt||!H.equals(A)?H.multiplyUnsafe(T):H.multiply(T),z=Z(this,_).add(Z(w,q));return z.is0()?void 0:z}toAffine(w){return B(this,w)}isTorsionFree(){const{h:w,isTorsionFree:_}=o;if(w===Lt)return!0;if(_)return _(E,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:w,clearCofactor:_}=o;return w===Lt?this:_?_(E,this):this.multiplyUnsafe(o.h)}toRawBytes(w=!0){return $t("isCompressed",w),this.assertValidity(),m(E,this,w)}toHex(w=!0){return $t("isCompressed",w),Wt(this.toRawBytes(w))}}E.BASE=new E(o.Gx,o.Gy,i.ONE),E.ZERO=new E(i.ZERO,i.ONE,i.ZERO);const S=o.nBitLength,N=Vi(E,o.endo?Math.ceil(S/2):S);return{CURVE:o,ProjectivePoint:E,normPrivateKeyToScalar:v,weierstrassEquation:M,isWithinCurveOrder:y}}function $i(n){const o=kr(n);return te(o,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...o})}function Wi(n){const o=$i(n),{Fp:i,n:h}=o,m=i.BYTES+1,f=2*i.BYTES+1;function M(t){return qt(t,h)}function y(t){return Ze(t,h)}const{ProjectivePoint:v,normPrivateKeyToScalar:x,weierstrassEquation:B,isWithinCurveOrder:b}=Gi({...o,toBytes(t,r,s){const a=r.toAffine(),u=i.toBytes(a.x),p=Jt;return $t("isCompressed",s),s?p(Uint8Array.from([r.hasEvenY()?2:3]),u):p(Uint8Array.from([4]),u,i.toBytes(a.y))},fromBytes(t){const r=t.length,s=t[0],a=t.subarray(1);if(r===m&&(s===2||s===3)){const u=Kt(a);if(!he(u,Lt,i.ORDER))throw new Error("Point is not on curve");const p=B(u);let g;try{g=i.sqrt(p)}catch(c){const L=c instanceof Error?": "+c.message:"";throw new Error("Point is not on curve"+L)}const l=(g&Lt)===Lt;return(s&1)===1!==l&&(g=i.neg(g)),{x:u,y:g}}else if(r===f&&s===4){const u=i.fromBytes(a.subarray(0,i.BYTES)),p=i.fromBytes(a.subarray(i.BYTES,2*i.BYTES));return{x:u,y:p}}else{const u=m,p=f;throw new Error("invalid Point, expected length of "+u+", or uncompressed "+p+", got "+r)}}}),E=t=>Wt(Xt(t,o.nByteLength));function S(t){const r=h>>Lt;return t>r}function N(t){return S(t)?M(-t):t}const I=(t,r,s)=>Kt(t.slice(r,s));class w{constructor(r,s,a){this.r=r,this.s=s,this.recovery=a,this.assertValidity()}static fromCompact(r){const s=o.nByteLength;return r=Ot("compactSignature",r,s*2),new w(I(r,0,s),I(r,s,2*s))}static fromDER(r){const{r:s,s:a}=Rt.toSig(Ot("DER",r));return new w(s,a)}assertValidity(){Ft("r",this.r,Lt,h),Ft("s",this.s,Lt,h)}addRecoveryBit(r){return new w(this.r,this.s,r)}recoverPublicKey(r){const{r:s,s:a,recovery:u}=this,p=H(Ot("msgHash",r));if(u==null||![0,1,2,3].includes(u))throw new Error("recovery id invalid");const g=u===2||u===3?s+o.n:s;if(g>=i.ORDER)throw new Error("recovery id 2 or 3 invalid");const l=u&1?"03":"02",e=v.fromHex(l+E(g)),c=y(g),L=M(-p*c),k=M(a*c),O=v.BASE.multiplyAndAddUnsafe(e,L,k);if(!O)throw new Error("point at infinify");return O.assertValidity(),O}hasHighS(){return S(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,M(-this.s),this.recovery):this}toDERRawBytes(){return jt(this.toDERHex())}toDERHex(){return Rt.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return jt(this.toCompactHex())}toCompactHex(){return E(this.r)+E(this.s)}}const _={isValidPrivateKey(t){try{return x(t),!0}catch{return!1}},normPrivateKeyToScalar:x,randomPrivateKey:()=>{const t=Lr(o.n);return Zi(o.randomBytes(t),o.n)},precompute(t=8,r=v.BASE){return r._setWindowSize(t),r.multiply(BigInt(3)),r}};function q(t,r=!0){return v.fromPrivateKey(t).toRawBytes(r)}function A(t){const r=Yt(t),s=typeof t=="string",a=(r||s)&&t.length;return r?a===m||a===f:s?a===2*m||a===2*f:t instanceof v}function Z(t,r,s=!0){if(A(t))throw new Error("first arg must be private key");if(!A(r))throw new Error("second arg must be public key");return v.fromHex(r).multiply(x(t)).toRawBytes(s)}const z=o.bits2int||function(t){if(t.length>8192)throw new Error("input is too large");const r=Kt(t),s=t.length*8-o.nBitLength;return s>0?r>>BigInt(s):r},H=o.bits2int_modN||function(t){return M(z(t))},T=Pe(o.nBitLength);function C(t){return Ft("num < 2^"+o.nBitLength,t,Ut,T),Xt(t,o.nByteLength)}function U(t,r,s=W){if(["recovered","canonical"].some(K=>K in s))throw new Error("sign() legacy options not supported");const{hash:a,randomBytes:u}=o;let{lowS:p,prehash:g,extraEntropy:l}=s;p==null&&(p=!0),t=Ot("msgHash",t),pr(s),g&&(t=Ot("prehashed msgHash",a(t)));const e=H(t),c=x(r),L=[C(c),C(e)];if(l!=null&&l!==!1){const K=l===!0?u(i.BYTES):l;L.push(Ot("extraEntropy",K))}const k=Jt(...L),O=e;function j(K){const F=z(K);if(!b(F))return;const Pt=y(F),D=v.BASE.multiply(F).toAffine(),Y=M(D.x);if(Y===Ut)return;const Zt=M(Pt*M(O+Y*c));if(Zt===Ut)return;let G=(D.x===Y?0:2)|Number(D.y&Lt),P=Zt;return p&&S(Zt)&&(P=N(Zt),G^=1),new w(Y,P,G)}return{seed:k,k2sig:j}}const W={lowS:o.lowS,prehash:!1},R={lowS:o.lowS,prehash:!1};function V(t,r,s=W){const{seed:a,k2sig:u}=U(t,r,s),p=o;return _r(p.hash.outputLen,p.nByteLength,p.hmac)(a,u)}v.BASE._setWindowSize(8);function d(t,r,s,a=R){var G;const u=t;r=Ot("msgHash",r),s=Ot("publicKey",s);const{lowS:p,prehash:g,format:l}=a;if(pr(a),"strict"in a)throw new Error("options.strict was renamed to lowS");if(l!==void 0&&l!=="compact"&&l!=="der")throw new Error("format must be compact or der");const e=typeof u=="string"||Yt(u),c=!e&&!l&&typeof u=="object"&&u!==null&&typeof u.r=="bigint"&&typeof u.s=="bigint";if(!e&&!c)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let L,k;try{if(c&&(L=new w(u.r,u.s)),e){try{l!=="compact"&&(L=w.fromDER(u))}catch(P){if(!(P instanceof Rt.Err))throw P}!L&&l!=="der"&&(L=w.fromCompact(u))}k=v.fromHex(s)}catch{return!1}if(!L||p&&L.hasHighS())return!1;g&&(r=o.hash(r));const{r:O,s:j}=L,K=H(r),F=y(j),Pt=M(K*F),D=M(O*F),Y=(G=v.BASE.multiplyAndAddUnsafe(k,Pt,D))==null?void 0:G.toAffine();return Y?M(Y.x)===O:!1}return{CURVE:o,getPublicKey:q,getSharedSecret:Z,sign:V,verify:d,ProjectivePoint:v,Signature:w,utils:_}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ji(n){return{hash:n,hmac:(o,...i)=>Br(n,o,Fr(...i)),randomBytes:Pr}}function Xi(n,o){const i=h=>Wi({...n,...ji(h)});return{...i(o),create:i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Or=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),gr=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Ji=BigInt(1),ze=BigInt(2),vr=(n,o)=>(n+o/ze)/o;function Qi(n){const o=Or,i=BigInt(3),h=BigInt(6),m=BigInt(11),f=BigInt(22),M=BigInt(23),y=BigInt(44),v=BigInt(88),x=n*n*n%o,B=x*x*n%o,b=kt(B,i,o)*B%o,E=kt(b,i,o)*B%o,S=kt(E,ze,o)*x%o,N=kt(S,m,o)*S%o,I=kt(N,f,o)*N%o,w=kt(I,y,o)*I%o,_=kt(w,v,o)*w%o,q=kt(_,y,o)*I%o,A=kt(q,i,o)*B%o,Z=kt(A,M,o)*N%o,z=kt(Z,h,o)*x%o,H=kt(z,ze,o);if(!Ce.eql(Ce.sqr(H),n))throw new Error("Cannot find square root");return H}const Ce=Ar(Or,void 0,void 0,{sqrt:Qi}),un=Xi({a:BigInt(0),b:BigInt(7),Fp:Ce,n:gr,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const o=gr,i=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),h=-Ji*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),m=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),f=i,M=BigInt("0x100000000000000000000000000000000"),y=vr(f*n,o),v=vr(-h*n,o);let x=qt(n-y*i-v*m,o),B=qt(-y*h-v*f,o);const b=x>M,E=B>M;if(b&&(x=o-x),E&&(B=o-B),x>M||B>M)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:b,k1:x,k2neg:E,k2:B}}}},yi);BigInt(0);var Hr={exports:{}};(function(n){var o=Object.prototype.hasOwnProperty,i="~";function h(){}Object.create&&(h.prototype=Object.create(null),new h().__proto__||(i=!1));function m(v,x,B){this.fn=v,this.context=x,this.once=B||!1}function f(v,x,B,b,E){if(typeof B!="function")throw new TypeError("The listener must be a function");var S=new m(B,b||v,E),N=i?i+x:x;return v._events[N]?v._events[N].fn?v._events[N]=[v._events[N],S]:v._events[N].push(S):(v._events[N]=S,v._eventsCount++),v}function M(v,x){--v._eventsCount===0?v._events=new h:delete v._events[x]}function y(){this._events=new h,this._eventsCount=0}y.prototype.eventNames=function(){var x=[],B,b;if(this._eventsCount===0)return x;for(b in B=this._events)o.call(B,b)&&x.push(i?b.slice(1):b);return Object.getOwnPropertySymbols?x.concat(Object.getOwnPropertySymbols(B)):x},y.prototype.listeners=function(x){var B=i?i+x:x,b=this._events[B];if(!b)return[];if(b.fn)return[b.fn];for(var E=0,S=b.length,N=new Array(S);E<S;E++)N[E]=b[E].fn;return N},y.prototype.listenerCount=function(x){var B=i?i+x:x,b=this._events[B];return b?b.fn?1:b.length:0},y.prototype.emit=function(x,B,b,E,S,N){var I=i?i+x:x;if(!this._events[I])return!1;var w=this._events[I],_=arguments.length,q,A;if(w.fn){switch(w.once&&this.removeListener(x,w.fn,void 0,!0),_){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,B),!0;case 3:return w.fn.call(w.context,B,b),!0;case 4:return w.fn.call(w.context,B,b,E),!0;case 5:return w.fn.call(w.context,B,b,E,S),!0;case 6:return w.fn.call(w.context,B,b,E,S,N),!0}for(A=1,q=new Array(_-1);A<_;A++)q[A-1]=arguments[A];w.fn.apply(w.context,q)}else{var Z=w.length,z;for(A=0;A<Z;A++)switch(w[A].once&&this.removeListener(x,w[A].fn,void 0,!0),_){case 1:w[A].fn.call(w[A].context);break;case 2:w[A].fn.call(w[A].context,B);break;case 3:w[A].fn.call(w[A].context,B,b);break;case 4:w[A].fn.call(w[A].context,B,b,E);break;default:if(!q)for(z=1,q=new Array(_-1);z<_;z++)q[z-1]=arguments[z];w[A].fn.apply(w[A].context,q)}}return!0},y.prototype.on=function(x,B,b){return f(this,x,B,b,!1)},y.prototype.once=function(x,B,b){return f(this,x,B,b,!0)},y.prototype.removeListener=function(x,B,b,E){var S=i?i+x:x;if(!this._events[S])return this;if(!B)return M(this,S),this;var N=this._events[S];if(N.fn)N.fn===B&&(!E||N.once)&&(!b||N.context===b)&&M(this,S);else{for(var I=0,w=[],_=N.length;I<_;I++)(N[I].fn!==B||E&&!N[I].once||b&&N[I].context!==b)&&w.push(N[I]);w.length?this._events[S]=w.length===1?w[0]:w:M(this,S)}return this},y.prototype.removeAllListeners=function(x){var B;return x?(B=i?i+x:x,this._events[B]&&M(this,B)):(this._events=new h,this._eventsCount=0),this},y.prototype.off=y.prototype.removeListener,y.prototype.addListener=y.prototype.on,y.prefixed=i,y.EventEmitter=y,n.exports=y})(Hr);var tn=Hr.exports;const cn=wr(tn);export{Wt as A,Vi as B,Jt as C,Re as D,qt as E,Ar as F,Pr as G,Mr as H,kt as I,ln as J,Ur as K,un as L,nn as M,yi as N,cn as O,hr as a,ie as b,fn as c,Cr as d,sn as e,an as f,Yr as g,ne as h,Vr as i,ri as j,oi as k,ii as l,gi as m,$t as n,te as o,Ki as p,Ft as q,ni as r,Dr as s,oe as t,on as u,kr as v,hn as w,Ot as x,Fe as y,Ye as z};
