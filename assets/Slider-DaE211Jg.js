import{j as c}from"./jsx-runtime-BbjHj44Y.js";import{r as d}from"./index-C6mWTJJr.js";import{c as Y}from"./index-BdQq_4o_.js";import{c as C}from"./index-DBTS1piU.js";import{u as k,P as A}from"./index-CLAazc5K.js";import{c as le}from"./index-D0XHPngQ.js";import{u as ue}from"./index-CrkKVscG.js";import{u as ce}from"./index-ucBY_b0w.js";import{u as de}from"./index-DLKox03N.js";import{u as me}from"./index-v-BSH-Rc.js";import{c as fe}from"./index-C6Rh8DRz.js";import{c as he}from"./index-BpvXyOxN.js";import{t as pe}from"./bundle-mjs-D696Ktp4.js";var $=["PageUp","PageDown"],W=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],X={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},j="Slider",[z,ge,be]=fe(j),[G,Xe]=le(j,[be]),[ve,I]=G(j),J=d.forwardRef((e,t)=>{const{name:n,min:r=0,max:s=100,step:u=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:i=0,defaultValue:f=[r],value:v,onValueChange:a=()=>{},onValueCommit:m=()=>{},inverted:S=!1,form:y,...b}=e,p=d.useRef(new Set),h=d.useRef(0),w=o==="horizontal"?Se:we,[g=[],V]=ue({prop:v,defaultProp:f,onChange:x=>{var D;(D=[...p.current][h.current])==null||D.focus(),a(x)}}),N=d.useRef(g);function K(x){const T=Re(g,x);_(x,T)}function se(x){_(x,h.current)}function ae(){const x=N.current[h.current];g[h.current]!==x&&m(g)}function _(x,T,{commit:D}={commit:!1}){const F=je(u),B=Ve(Math.round((x-r)/u)*u+r,F),M=Y(B,[r,s]);V((E=[])=>{const P=Te(E,M,T);if(Ce(P,i*u)){h.current=P.indexOf(M);const U=String(P)!==String(E);return U&&D&&m(P),U?P:E}else return E})}return c.jsx(ve,{scope:e.__scopeSlider,name:n,disabled:l,min:r,max:s,valueIndexToChangeRef:h,thumbs:p.current,values:g,orientation:o,form:y,children:c.jsx(z.Provider,{scope:e.__scopeSlider,children:c.jsx(z.Slot,{scope:e.__scopeSlider,children:c.jsx(w,{"aria-disabled":l,"data-disabled":l?"":void 0,...b,ref:t,onPointerDown:C(b.onPointerDown,()=>{l||(N.current=g)}),min:r,max:s,inverted:S,onSlideStart:l?void 0:K,onSlideMove:l?void 0:se,onSlideEnd:l?void 0:ae,onHomeKeyDown:()=>!l&&_(r,0,{commit:!0}),onEndKeyDown:()=>!l&&_(s,g.length-1,{commit:!0}),onStepKeyDown:({event:x,direction:T})=>{if(!l){const B=$.includes(x.key)||x.shiftKey&&W.includes(x.key)?10:1,M=h.current,E=g[M],P=u*B*T;_(E+P,M,{commit:!0})}}})})})})});J.displayName=j;var[Q,Z]=G(j,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Se=d.forwardRef((e,t)=>{const{min:n,max:r,dir:s,inverted:u,onSlideStart:o,onSlideMove:l,onSlideEnd:i,onStepKeyDown:f,...v}=e,[a,m]=d.useState(null),S=k(t,w=>m(w)),y=d.useRef(void 0),b=ce(s),p=b==="ltr",h=p&&!u||!p&&u;function R(w){const g=y.current||a.getBoundingClientRect(),V=[0,g.width],K=L(V,h?[n,r]:[r,n]);return y.current=g,K(w-g.left)}return c.jsx(Q,{scope:e.__scopeSlider,startEdge:h?"left":"right",endEdge:h?"right":"left",direction:h?1:-1,size:"width",children:c.jsx(ee,{dir:b,"data-orientation":"horizontal",...v,ref:S,style:{...v.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const g=R(w.clientX);o==null||o(g)},onSlideMove:w=>{const g=R(w.clientX);l==null||l(g)},onSlideEnd:()=>{y.current=void 0,i==null||i()},onStepKeyDown:w=>{const V=X[h?"from-left":"from-right"].includes(w.key);f==null||f({event:w,direction:V?-1:1})}})})}),we=d.forwardRef((e,t)=>{const{min:n,max:r,inverted:s,onSlideStart:u,onSlideMove:o,onSlideEnd:l,onStepKeyDown:i,...f}=e,v=d.useRef(null),a=k(t,v),m=d.useRef(void 0),S=!s;function y(b){const p=m.current||v.current.getBoundingClientRect(),h=[0,p.height],w=L(h,S?[r,n]:[n,r]);return m.current=p,w(b-p.top)}return c.jsx(Q,{scope:e.__scopeSlider,startEdge:S?"bottom":"top",endEdge:S?"top":"bottom",size:"height",direction:S?1:-1,children:c.jsx(ee,{"data-orientation":"vertical",...f,ref:a,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:b=>{const p=y(b.clientY);u==null||u(p)},onSlideMove:b=>{const p=y(b.clientY);o==null||o(p)},onSlideEnd:()=>{m.current=void 0,l==null||l()},onStepKeyDown:b=>{const h=X[S?"from-bottom":"from-top"].includes(b.key);i==null||i({event:b,direction:h?-1:1})}})})}),ee=d.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:u,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:i,...f}=e,v=I(j,n);return c.jsx(A.span,{...f,ref:t,onKeyDown:C(e.onKeyDown,a=>{a.key==="Home"?(o(a),a.preventDefault()):a.key==="End"?(l(a),a.preventDefault()):$.concat(W).includes(a.key)&&(i(a),a.preventDefault())}),onPointerDown:C(e.onPointerDown,a=>{const m=a.target;m.setPointerCapture(a.pointerId),a.preventDefault(),v.thumbs.has(m)?m.focus():r(a)}),onPointerMove:C(e.onPointerMove,a=>{a.target.hasPointerCapture(a.pointerId)&&s(a)}),onPointerUp:C(e.onPointerUp,a=>{const m=a.target;m.hasPointerCapture(a.pointerId)&&(m.releasePointerCapture(a.pointerId),u(a))})})}),te="SliderTrack",ne=d.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=I(te,n);return c.jsx(A.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:t})});ne.displayName=te;var O="SliderRange",re=d.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=I(O,n),u=Z(O,n),o=d.useRef(null),l=k(t,o),i=s.values.length,f=s.values.map(m=>ie(m,s.min,s.max)),v=i>1?Math.min(...f):0,a=100-Math.max(...f);return c.jsx(A.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:l,style:{...e.style,[u.startEdge]:v+"%",[u.endEdge]:a+"%"}})});re.displayName=O;var q="SliderThumb",oe=d.forwardRef((e,t)=>{const n=ge(e.__scopeSlider),[r,s]=d.useState(null),u=k(t,l=>s(l)),o=d.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return c.jsx(xe,{...e,ref:u,index:o})}),xe=d.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:s,...u}=e,o=I(q,n),l=Z(q,n),[i,f]=d.useState(null),v=k(t,R=>f(R)),a=i?o.form||!!i.closest("form"):!0,m=me(i),S=o.values[r],y=S===void 0?0:ie(S,o.min,o.max),b=Pe(r,o.values.length),p=m==null?void 0:m[l.size],h=p?De(p,y,l.direction):0;return d.useEffect(()=>{if(i)return o.thumbs.add(i),()=>{o.thumbs.delete(i)}},[i,o.thumbs]),c.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${y}% + ${h}px)`},children:[c.jsx(z.ItemSlot,{scope:e.__scopeSlider,children:c.jsx(A.span,{role:"slider","aria-label":e["aria-label"]||b,"aria-valuemin":o.min,"aria-valuenow":S,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...u,ref:v,style:S===void 0?{display:"none"}:e.style,onFocus:C(e.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),a&&c.jsx(ye,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:S},r)]})});oe.displayName=q;var ye=e=>{const{value:t,...n}=e,r=d.useRef(null),s=de(t);return d.useEffect(()=>{const u=r.current,o=window.HTMLInputElement.prototype,i=Object.getOwnPropertyDescriptor(o,"value").set;if(s!==t&&i){const f=new Event("input",{bubbles:!0});i.call(u,t),u.dispatchEvent(f)}},[s,t]),c.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:t})};function Te(e=[],t,n){const r=[...e];return r[n]=t,r.sort((s,u)=>s-u)}function ie(e,t,n){const u=100/(n-t)*(e-t);return Y(u,[0,100])}function Pe(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Re(e,t){if(e.length===1)return 0;const n=e.map(s=>Math.abs(s-t)),r=Math.min(...n);return n.indexOf(r)}function De(e,t,n){const r=e/2,u=L([0,50],[0,r]);return(r-u(t)*n)*n}function Ee(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function Ce(e,t){if(t>0){const n=Ee(e);return Math.min(...n)>=t}return!0}function L(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function je(e){return(String(e).split(".")[1]||"").length}function Ve(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var _e=J,Me=ne,ke=re,Ae=oe;const Ie=d.forwardRef(({className:e,defaultValue:t,hasLabel:n,isDisabled:r,onChange:s,value:u,...o},l)=>{const[i,f]=d.useState(u??t);d.useEffect(()=>{(!i||!i.length||i.length>2)&&console.trace("[Slider.tsx] You must provide `defaultValue` or `value` and `value.length` should be less than 3")},[i]);const v=d.useCallback(a=>{f(a),s&&s(a)},[s]);return c.jsx("div",{className:pe("min-w-[495px] min-h-[36px] flex items-end",e),children:c.jsxs(_e,{...o,defaultValue:i,ref:l,"aria-label":"value",className:"relative flex items-center w-full h-4 touch-none",value:i,onValueChange:v,children:[c.jsx(Me,{className:"relative w-full h-2 rounded-full bg-mono-80 dark:bg-mono-140 grow",children:c.jsx(ke,{className:"absolute h-full rounded-full bg-blue dark:bg-blue-50"})}),(i==null?void 0:i.length)===1&&c.jsx(H,{hasLabel:n,value:i[0]}),(i==null?void 0:i.length)===2&&c.jsxs(c.Fragment,{children:[c.jsx(H,{hasLabel:n,value:i[0]}),c.jsx(H,{hasLabel:n,value:i[1]})]})]})})});function H({hasLabel:e,value:t}){return c.jsx(Ae,{className:he("block relative h-4 w-4 rounded-full","bg-blue dark:bg-blue-50","cursor-pointer","focus:outline-none dark:focus:outline-none","focus-visible:outline-none dark:focus-visible:outline-none","focus:ring","focus:ring-blue-50 dark:focus:ring-blue-60","focus:ring-opacity-75 dark:focus:ring-opacity-50"),children:e&&c.jsx("span",{className:"absolute left-0 translate-x-1/4 -top-5 utility",children:t})})}Ie.__docgenInfo={description:"The `Slider` component\n\nProps:\n\n- `defaultValue`: The value of the slider when initially rendered. Use when you do not need to control the state of the slider.\n- `value`: The controlled value of the slider. Must be used in conjunction with `onChange`.\n- `onChange`: Event handler called when the value changes.\n- `minStepsBetweenThumbs`: The minimum permitted steps between multiple.\n- `name`: The name of the slider. Submitted with its owning form as part of a name/value pair.\n- `isDisabled`: When true, prevents the user from interacting with the slider.\n- `min`: The minimum value for the range.\n- `max`: The maximum value for the range\n- `step`: The stepping interval.\n\n```jsx\n <Slider className='mt-4' defaultValue={[25]} />\n <Slider className='mt-4' hasLabel defaultValue={[25]} />\n <Slider className='mt-4' value={sliderVal} onChange={setSliderVal} />\n <Slider className='mt-4' hasLabel defaultValue={[25, 75]} />\n```",methods:[],displayName:"Slider",props:{defaultValue:{required:!1,tsType:{name:"Array",elements:[{name:"number"}],raw:"number[]"},description:"The value of the slider when initially rendered. Use when you do not need to control the state of the slider."},value:{required:!1,tsType:{name:"Array",elements:[{name:"number"}],raw:"number[]"},description:"The controlled value of the slider. Must be used in conjunction with `onChange`."},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(nextValue: number[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"number"}],raw:"number[]"},name:"nextValue"}],return:{name:"void"}}},description:"Event handler called when the value changes."},minStepsBetweenThumbs:{required:!1,tsType:{name:"number"},description:`The minimum permitted steps between multiple.
@default 0`},name:{required:!1,tsType:{name:"string"},description:"The name of the slider. Submitted with its owning form as part of a name/value pair."},isDisabled:{required:!1,tsType:{name:"boolean"},description:"When true, prevents the user from interacting with the slider."},min:{required:!1,tsType:{name:"number"},description:`The minimum value for the range.
@default 0`},max:{required:!1,tsType:{name:"number"},description:`The maximum value for the range
@default 100`},step:{required:!1,tsType:{name:"number"},description:`The stepping interval.
@default 1`},hasLabel:{required:!1,tsType:{name:"boolean"},description:"If `true`, the value label will be displayed on top of the thumb"}},composes:["Omit"]};export{Ie as S};
